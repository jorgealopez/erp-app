!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/asset-detail/assets/packs/",n(n.s=944)}({1000:function(e,t,n){"use strict";n.r(t);var r=n(142),i=n(204);window.IStockDownload.factory("goToNextStepReducer",["accountTypes","setSelectedAccountReducer","setSelectedAgreementTypeReducer","chooseAccountStepReducer","selectAccountTypeStepReducer","goToConfirmDownloadAndSelectLicensesPaidByCreditsStepReducer","confirmDownloadByCreditsSinceSubscriptionHasInsufficientDownloadsRemainingStepReducer","confirmDownloadOfSignatureImageByCreditsSinceSubscriptionIsForEssentialsStepReducer","confirmDownloadByCreditsWhenNoSubscriptionExistsStepReducer","confirmDownloadByCreditsWithNoticeThatFileUnsupportedBySubscriptionStepReducer","confirmDownloadBySubscriptionWithSufficientDownloadsRemainingStepReducer","confirmDownloadBySubscriptionSinceInsufficientCreditsRemainingStepReducer","confirmDownloadByCreditsBlockedSubscriptionExistsStepReducer","confirmDownloadByTeamCreditsStepReducer","confirmRedownloadForFreeStepReducer","mustBuyCreditsForFileUnsupportedBySubscriptionStepReducer","mustByCreditsWhenInsufficientRemainingAndNoSubscriptionStepReducer","mustBuyCreditsWhenInsufficientRemainingAndSubscriptionIsForEssentialsStepReducer","mustBuyCreditsWhenInsufficientRemainingAndSubscriptionHasInsufficientDownloadsRemainingStepReducer","mustBuyCreditsWhenInsufficientRemainingToBuyExtendedLicensesStepReducer","mustBuyCreditsWhenInsufficientRemainingAndBlockedStepReducer","teamMemberMustAskTeamAdminToGrantMoreCreditsStepReducer","teamAccountOutOfCreditsStepReducer",function(e,t,n,o,c,a,s,u,l,d,f,_,p,h,v,y,S,w,g,m,I,T,E){var b=function(e){return e.calc.hasSubscription&&e.calc.includedWithSubscription&&0<e.user.subsInfo.downloadsRemaining},A=function(e){return e.calc.hasSubscription&&e.calc.includedWithSubscription&&0===e.user.subsInfo.downloadsRemaining};return function(n,C){if(!n.calc.hasSelectedOptionalLicenses){if(n.asset.freeFile)return f(n);if(n.calc.redownloadForFree)return v(n)}if(n.user.team_member){if(!n.user.has_purchase_history)return(n=t(n,{selectedAccountName:e.TEAM})).calc.selectedAccountHasEnoughCredits?h(n):E(n);if(!n.calc.selectedAccount)return o(n);if(n.calc.isTeamAccountSelected&&!n.calc.selectedAccountHasEnoughCredits)return E(n)}return n.calc.selectedAccount||(n=t(n,{selectedAccountName:e.PERSONAL})),n.calc.hasSelectedOptionalLicenses?n.calc.selectedAccountHasEnoughCredits?a(n):n.user.team_member&&n.calc.isTeamAccountSelected?T(n):m(n):Object(r.default)(n)?(Object(i.default)(n),n.calc.selectedAccountHasEnoughCredits?p(n):I(n)):!n.calc.hasSubscription&&n.user.team_member&&n.calc.isTeamAccountSelected&&!n.calc.selectedAccountHasEnoughCredits?E(n):n.calc.selectedAccountHasEnoughCredits&&b(n)?c(n):n.calc.selectedAccountHasEnoughCredits&&A(n)?s(n):n.calc.selectedAccountHasAnyCredits&&!n.calc.selectedAccountHasEnoughCredits&&b(n)?_(n):!n.calc.assetIsVideo&&n.calc.assetCollectionIsSignature&&n.user.subsInfo.isEssentials?n.calc.selectedAccountHasEnoughCredits?u(n):w(n):!n.calc.selectedAccountHasEnoughCredits&&A(n)?g(n):n.calc.assetIsVideo&&n.calc.hasSubscription?n.calc.selectedAccountHasEnoughCredits?n.calc.isTeamAccountSelected?l(n):d(n):y(n):n.calc.hasSubscription?n.calc.selectedAccountHasEnoughCredits||b(n)?f(n):S(n):n.calc.selectedAccountHasEnoughCredits?l(n):S(n)}}])},1001:function(e,n,r){"use strict";window.IStockDownload.factory("goToPurchaseAndSelectLicensesStepReducer",["stateSteps","reducerHelpers","nextStepReducer","goToPurchaseAndSelectLicensesTracking",function(e,n,r,i){var o=void 0;return function(c,a){return o=o||t("".concat(c.calc.assetCollectionName,"_collection")),c=r(c,{name:e.PURCHASE_AND_SELECT_LICENCES_STEP,title:o,ctaTitle:n.defaultCtaTitle(c),ctaClass:"super-cta",ctaAction:'redirectToPricing({inGeoLocPricingTest: "'.concat(n.inGeoLocPricingTest(c),'"})'),showAccountChoices:!1,showCreditCost:!0,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,viewLicenseSelection:!0,triggerTracking:i(c.calc.userIsTeamUser,c.user.team_leader,n.defaultCtaTitle(c))})}}])},1002:function(e,t,n){"use strict";(function(e){window.IStockDownload.factory("initializeDataStepReducer",["assetCollectionNames","setCalculatedHasSubscriptionReducer","setSelectedAccountReducer","setCalculatedTotalCostReducer","setInitialStepReducer","selectAssetSizeReducer","setLargestSizeAvailableReducer","adpViewedTrackingReducer",function(t,n,r,i,o,c,a,s){return function(u,l){var d=l.asset,f=l.user,_=l.geolocation_country,p=l.preferredDownloadSize,h=l.preferredEpsDownloadSize,v=l.localePhoneNumber;d.sizes=d.sizes||[];var y=(u=u.merge({asset:DeepRecord.fromJS(d),user:DeepRecord.fromJS(f),licenses:DeepRecord.fromJS([d.standardLicense])})).calc.withMutations(function(r){r.merge(function(t,r){return n(e.Map({calc:e.Map()}),{subscription:r.subsInfo,includedWithSubscription:!1}).toJS().calc}(0,f));var i=t.getAssetCollectionName(d);return r.merge({assetCollectionName:t.getAssetCollectionName(d),assetCollectionIsSignature:t.isSignature(i),assetIsIllustration:"illustration"===d.mediaType,assetIsImage:"image"===d.assetType,assetIsVideo:"film"===d.assetType,geolocation_country:_,localePhoneNumber:v,userIsTeamUser:f.team_member||f.team_leader,hasSubscription:r.hasSubscription})});return u=function(e){return r(e)}(u=u.set("calc",y)),u=i(u),u=o(u),u=a(u),s(),c(u,{preferredDownloadSize:p,preferredEpsDownloadSize:h})}}])}).call(this,n(140))},1003:function(e,t,n){"use strict";window.IStockDownload.factory("pickPaymentOptionStepReducer",["reducerHelpers","stateSteps","nextStepReducer","pickPaymentOptionTracking","t",function(e,t,n,r,i){var o=void 0;return function(c){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o=o||i("".concat(c.calc.assetCollectionName,"_collection")),n(c,{name:t.PICK_PAYMENT_OPTION,title:o,ctaClass:"super-cta",ctaTitle:e.defaultCtaTitle(c),ctaAction:"initiateDownload",showTshirtSizes:!0,confirmSection:!1,completeSection:!1,viewLicenseSelection:c.calc.step.viewLicenseSelection,triggerTracking:r(c.calc.userIsTeamUser,c.user.team_leader,e.defaultCtaTitle(c))},function(e){var t=e.calc.includedWithSubscription,n=e.calc.assetIsVideo;return{showSubTypeMessage:t&&!n,showFileTypeDropdown:n,showCreditCost:!t||n}}(c))}}])},1004:function(e,t,n){"use strict";window.IStockDownload.factory("pickPricingClarityPaymentOptionStepReducer",["stateSteps","nextStepReducer","reducerHelpers","pickPricingClarityPaymentOptionTracking","t",function(e,t,n,r,i){var o=e.PICK_PRICING_CLARITY_PAYMENT_OPTION,c=["GBR","CAN","USA","AUS","DEU","BRA","JPN"],a=function(e){return n.inVideoPricingClarityTest(e)?"checkoutSecondRadio":n.inGeoLocPricingTest(e)?"checkout":e.user.fast_checkout_sub?"checkoutSubscription":e.user.eligible_for_free_trial?"checkoutFreeTrial":n.inThreeRadioButtonTest(e)?"checkoutSubscription":c.includes(e.calc.geolocation_country)?"checkout":"pricing"},s=function(e,t){return e.calc.step.name!==o?a(e):function(e,t){return t||a(e)}(e,t.pricingOptionSelected)},u=function(e){var t=1===e.asset.standardLicense.credit_cost;return'redirectToCheckout({cartItem: "'.concat(t?"oneCredit":"moreThanOneCredit",'"})')},l=function(e){return n.inThreeRadioButtonTest(e)||n.inFastCheckoutSubTest(e)||n.inVideoPricingClarityTest(e)?"super-cta super-cta--full-width":"super-cta"},d=void 0,f=function(e,c){d=d||i("".concat(e.calc.assetCollectionName,"_collection"));var a=s(e,c),f=function(e,t){switch(t){case"checkout":return{ctaTitle:n.defaultCtaTitle(e),ctaAction:u(e)};case"checkoutFreeTrial":return{ctaTitle:i("start_your_free_trial"),ctaAction:"redirectToFreeTrialCheckout()"};case"checkoutSecondRadio":return{ctaTitle:n.defaultCtaTitle(e),ctaAction:"redirectToCheckout()"};case"checkoutSubscription":return{ctaTitle:n.defaultCtaTitle(e),ctaAction:"redirectToFastCheckoutWithSubscription()"};default:return{ctaTitle:i("download_method"),ctaAction:"redirectToPricing({chooseSubscription: true})"}}}(e,a);return t(e,{name:o,title:d,ctaClass:l(e),ctaTitle:f.ctaTitle,ctaAction:f.ctaAction,showPricingClarity:!0,showCreditCost:!0,showFileTypeDropdown:e.calc.assetIsVideo,pricingOption:a,viewLicenseSelection:e.calc.step.viewLicenseSelection,triggerTracking:r(a,e)})};return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(e=e.setIn(["calc","isInPricingClarity"],function(e){return e.user.pricing_clarity_flow}(e))).calc.isInPricingClarity&&(e=f(e,t)),e}}])},1005:function(e,t,n){"use strict";window.IStockDownload.factory("selectAccountTypeStepReducer",["reducerHelpers","stateSteps","nextStepReducer","agreementTypes","t",function(e,t,n,r,i){var o=void 0,c=i("confirm_download");return function(a){return o=o||i("".concat(a.calc.assetCollectionName,"_download")),n(a,{name:t.SELECT_ACCOUNT_TYPE,title:o,ctaTitle:c,ctaClass:"primary-cta",ctaAction:"createDownload",hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,selectedAgreementType:r.ROYALTY_FREE_SUBSCRIPTION,isConfirmationState:!0,triggerTracking:function(){if("undefined"===typeof s||null===s)return!1;var e=window.tracking_data.asset_details,t={downloadedCount:a.user.subsInfo.downloadedCount,remainingCount:a.user.subsInfo.downloadsRemaining,daysUntilExpiry:a.user.subsInfo.daysUntilExpiry,autoRenews:a.user.subsInfo.autoRenew},n=t.autoRenews?"on":"off",i=a.calc.selectedAgreementType===r.CREDIT_PACK,o=a.calc.totalCreditCost,u=a.calc.redownloadForFree,l=a.user.team_leader,d=a.calc.userIsTeamUser,f=a.user.team_member&&a.calc.isTeamAccountSelected,_=i&&0===o;i=i&&!_,s.linkTrackEvents="event4",s.events="event4";var p="events,products,prop7,eVar7,eVar13,eVar39,prop39,prop56,prop59,eVar62";s.eVar13=$.AssetDetail.Tracking.eVar13(e),s.prop39=s.eVar39=null!=window.giLocalStorage?window.giLocalStorage.getItem("target_search_mix"):void 0,s.prop56=e.asset_id,s.prop59="adp|download",_||u?(s.products=";;;;event23=0;;",s.linkTrackEvents+=",event23,event33",s.events+=",event23,event33",u&&(p+=",eVar62",s.eVar62="redownload")):i?(s.products=";;;;event23=".concat(o,";;"),s.linkTrackEvents+=",event23",s.events+=",event23",p+=",eVar62",s.eVar62="Credits"):(s.products=";SUBISTOCK1M",p+=",eVar62,prop24",s.eVar62="Subscription",s.prop24=[t.remainingCount,t.downloadedCount,t.daysUntilExpiry,n].join("|")),d&&(s.eVar62+=l?" | Leader Download":" | Member Download"),d&&!l&&(window.tracking_data.download_with_team_credits=f);var h=$.siteCatalyst.pageTrackingVariables(),v=$.extend({},h);if(p&&p.length>0){var y=!0,S=!1,w=void 0;try{for(var g,m=p.split(",")[Symbol.iterator]();!(y=(g=m.next()).done);y=!0){v[g.value]=!0}}catch(I){S=!0,w=I}finally{try{y||null==m.return||m.return()}finally{if(S)throw w}}}return s.linkTrackVars=$.map(v,function(e,t){return t}).join(","),s.tl(!0,"o",c.replace(/\s/g,""))}},e.buildStepDetailsToShowDownloadChoices(a))}}])},1006:function(e,t,n){"use strict";window.IStockDownload.factory("setInitialStepReducer",["resetSelectedAccountReducer","uncheckAllOptionalLicencesReducer","pickPricingClarityPaymentOptionStepReducer","pickPaymentOptionStepReducer",function(e,t,n,r){return function(i){return i=e(i),i=t(i),(i=n(i)).calc.isInPricingClarity||(i=r(i)),i}}])},1007:function(e,t,n){"use strict";n.r(t);var r=n(29);window.IStockDownload.factory("teamAccountOutOfCreditsStepReducer",["reducerHelpers","stateSteps","nextStepReducer","t",function(e,t,n,i){var o=i("you_need_credits");return function(c){return n(c,{name:t.TEAM_ACCOUNT_OUT_OF_CREDITS,title:o,warningBox:!0,additionalInfoHtml:e.buildInsufficientCreditsHtmlTranslation(c),showCreditCost:!0,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,warningCta:Object(r.default)(i)})}}])},1008:function(e,t,n){"use strict";n.r(t);var r=n(29);window.IStockDownload.factory("teamMemberMustAskTeamAdminToGrantMoreCreditsStepReducer",["reducerHelpers","stateSteps","nextStepReducer","t",function(e,t,n,i){var o=i("you_need_credits");return function(c){return n(c,{name:t.TEAM_MEMBER_MUST_ASK_TEAM_ADMIN_TO_GRANT_MORE_CREDITS,title:o,warningBox:!0,additionalInfoHtml:e.buildInsufficientCreditsHtmlTranslation(c),showCreditCost:!0,showSubTypeMessage:!1,hideDetails:!0,hideDownloadButton:!0,purchaseExtendedLicenseNotAllowed:!0,warningCta:Object(r.default)(i)})}}])},1009:function(e,t,n){"use strict";n.r(t);var r=n(29);window.IStockDownload.factory("mustBuyCreditsForFileUnsupportedBySubscriptionStepReducer",["reducerHelpers","stateSteps","nextStepReducer","t",function(e,t,n,i){var o=void 0,c=i("video_only_with_credits");return function(a){o=o||i("".concat(a.calc.assetCollectionName,"_download"));var s=e.isUsingTeamAccount(a)?Object(r.default)(i):null;return n(a,e.buildMustBuyStep(a),{name:t.MUST_BUY_CREDITS_FOR_FILE_UNSUPPORTED_BY_SUBSCRIPTION,title:o,warningBox:!0,reasonForBox:c,additionalInfoHtml:e.buildInsufficientCreditsHtmlTranslation(a),hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,hideDownloadButton:e.isUsingTeamAccount(a),showCreditCost:!0,warningCta:s})}}])},1010:function(e,t,n){"use strict";n.r(t);var r=n(29);window.IStockDownload.factory("mustBuyCreditsWhenInsufficientRemainingAndSubscriptionIsForEssentialsStepReducer",["reducerHelpers","stateSteps","nextStepReducer","t",function(e,t,n,i){var o=void 0,c=i("image_only_with_sig_or_credits");return function(a){o=o||i("".concat(a.calc.assetCollectionName,"_collection"));var s=e.isUsingTeamAccount(a)?Object(r.default)(i):null;return n(a,e.buildMustBuyStep(a),{name:t.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_IS_FOR_ESSENTIALS,title:o,showCreditCost:!0,warningBox:!0,reasonForBox:c,additionalInfoHtml:e.buildInsufficientCreditsHtmlTranslation(a),hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,hideDownloadButton:e.isUsingTeamAccount(a),warningCta:s})}}])},1011:function(e,t,n){"use strict";n.r(t);var r=n(143);window.IStockDownload.factory("mustBuyCreditsWhenInsufficientRemainingAndBlockedStepReducer",["reducerHelpers","stateSteps","nextStepReducer","t","$filter",function(e,t,n,i,o){var c=o("date");return function(o){var a=Object.assign({name:t.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_BLOCKED_SUBSCRIPTION,title:i("".concat(o.calc.assetCollectionName,"_download")),ctaTitle:i("buy_credits"),ctaClass:"primary-cta",ctaAction:"redirectToPricing",warningBox:!0,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,hideDownloadButton:e.isUsingTeamAccount(o)},Object(r.default)(o,i,c));return n(o,a)}}])},1012:function(e,t,n){"use strict";window.IStockDownload.factory("mustByCreditsWhenInsufficientRemainingAndNoSubscriptionStepReducer",["reducerHelpers","stateSteps","nextStepReducer","t",function(e,t,n,r){var i=r("you_need_credits");return function(r){return n(r,e.buildMustBuyStep(r),{name:t.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_NO_SUBSCRIPTION,title:i,showExtendedLicenses:!1,warningBox:!0,showCreditCost:!0,additionalInfoHtml:e.buildInsufficientCreditsHtmlTranslation(r),focusView:!0,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,triggerTracking:function(){if("undefined"===typeof s||null===s)return!1;s.linkTrackEvents+=",event198",s.events+=",event198";var e=$.siteCatalyst.pageTrackingVariables(),t=$.extend({},e);return t.eVar62=!0,s.linkTrackVars+=$.map(t,function(e,t){return t}).join(","),r.calc.userIsTeamUser&&(s.eVar62=r.user.isTeamLeader?"Leader Download":"Member Download"),s.tl(!0,"o","Download Image")}})}}])},1013:function(e,t,n){"use strict";n.r(t);var r=n(29);window.IStockDownload.factory("mustBuyCreditsWhenInsufficientRemainingAndSubscriptionHasInsufficientDownloadsRemainingStepReducer",["reducerHelpers","stateSteps","nextStepReducer","t",function(e,t,n,i){var o=i("out_of_downloads"),c=i("looks_like_no_downloads");return function(a){var s=e.isUsingTeamAccount(a)?Object(r.default)(i):null;return n(a,e.buildMustBuyStep(a),{name:t.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_HAS_INSUFFICIENT_DOWNLOADS_REMAINING,title:o,warningBox:!0,reasonForBox:c,additionalInfoHtml:e.buildInsufficientCreditsHtmlTranslation(a),hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,hideDownloadButton:e.isUsingTeamAccount(a),warningCta:s})}}])},1014:function(e,t,n){"use strict";window.IStockDownload.factory("mustBuyCreditsWhenInsufficientRemainingToBuyExtendedLicensesStepReducer",["reducerHelpers","stateSteps","nextStepReducer","t",function(e,t,n,r){var i=r("you_need_credits");return function(r){return n(r,e.buildMustBuyStep(r),{name:t.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAIN_TO_BUY_EXTENDED_LICENSES,title:i,warningBox:!0,showCreditCost:!0,showSubTypeMessage:!1,additionalInfoHtml:e.buildInsufficientCreditsHtmlTranslation(r),hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0})}}])},1015:function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}window.IStockDownload.factory("nextStepReducer",["accountTypes","setSelectedAgreementTypeReducer",function(e,t){var n={title:null,ctaClass:"",ctaTitle:null,ctaAction:"",showPricingClarity:!1,reasonForBox:"",creditsAvailable:!0,subsAvailable:!0,selectedAccount:void 0,viewLicenseSelection:!1};return function(i,o){for(var c=function(e){return e.calc.step.showSubTypeMessage}(i)&&!function(t){return t.calc.step.selectedAccount===e.TEAM}(i),a=arguments.length,s=new Array(a>2?a-2:0),u=2;u<a;u++)s[u-2]=arguments[u];var l=Object.assign.apply(Object,[{},n,o,{showSubTypeMessage:c}].concat(r(Array.from(s)))),d=DeepRecord.fromJS(l);return i=i.setIn(["calc","step"],d),i=t(i,{agreementType:i.calc.selectedAgreementType||d.selectedAgreementType})}}])},1016:function(e,t,n){"use strict";window.IStockDownload.factory("resetSelectedAccountReducer",["setSelectedAccountReducer",function(e){return function(t){return e(t,void 0)}}])},1017:function(e,t,n){"use strict";window.IStockDownload.factory("selectAssetSizeReducer",["setAgreementSizeReducer",function(e){var t=function(e,t){if(!t)return null;var n=new RegExp("^".concat(t,"$"),"i");return e.find(function(e){return null!=e.teeShirtSize?e.teeShirtSize.match(n):void 0})},n=function(e,n){var r,i,o=e.sizes;if(e.hasEpsFileSize)return t(o,n.preferredEpsDownloadSize)||o.get(e.epsFileSizeIndex);if(r=o.last(),i=function(e){return e.epsUnavailable},"undefined"!==typeof r&&null!==r?i(r):void 0){var c=o.pop();return t(o,n.preferredDownloadSize)||c.last()}return t(o,n.preferredDownloadSize)||o.last()};return function(t,r){var i=r.assetSize,o=i;return!i&&t.calc.assetIsImage&&(o=n(t.asset,r)),t=t.setIn(["calc","selectedAssetSize"],o),t=e(t)}}])},1018:function(e,t,n){"use strict";window.IStockDownload.factory("setAgreementSizeReducer",["agreementTypes","hasSelectedOptionalLicenses",function(e,t){var n=function(e){var t=o(e),n=null!=e.calc.selectedAssetSize?e.calc.selectedAssetSize.get(t):void 0;return n?r(n):i},r=function(e){var t=new RegExp("^".concat(e,"$"),"i");return function(e,n){return n.reduce(function(n,r){return n||null!=(null!=e[r]?e[r].match(t):void 0)},!1)}},i=function(){return!1},o=function(e){return e.calc.assetIsImage||e.calc.assetIsIllustration?"teeShirtSize":e.calc.assetIsVideo?"name":null},c=function(e){var t=[];return e.calc.assetIsImage&&t.push("tee_shirt_size"),(e.calc.assetIsIllustration||e.calc.assetIsVideo)&&t.push("teams_size"),t},a=function(e,t,n){return e.flatMap(function(e){return e.authorized_sizes}).find(function(e){return e.is_free&&n(e,t)})},s=function(e,t,n){return e.flatMap(function(e){return e.authorized_sizes}).find(function(e){return n(e,t)})};return function(r){var i=void 0;return r.calc.redownloadForFree&&!t(r)?i=function(t){var r=n(t),i=c(t),o=t.agreements.filter(function(t){return t.type===e.ROYALTY_FREE_SUBSCRIPTION}),s=a(o,i,r);if(!s){var u=t.agreements.filter(function(t){return t.type===e.CREDIT_PACK});s=a(u,i,r)}return s}(r)||r.calc.selectedAgreementSize:r.calc.isFreeAdminDownload?i=function(t){var r=n(t),i=c(t),o=t.agreements.filter(function(t){return t.type===e.EASY_ACCESS});return s(o,i,r)}(r)||r.calc.selectedAgreementSize:r.calc.selectedAgreement&&(i=function(e){var t=n(e),r=c(e);return e.calc.selectedAgreement.authorized_sizes.find(function(e){return t(e,r)})}(r)),r=r.setIn(["calc","selectedAgreementSize"],i)}}])},1019:function(e,t,n){"use strict";window.IStockDownload.factory("setAgreementsReducer",["agreementTypes","setAgreementSizeReducer",function(e,t){var n=function(t){var n,r,i=t.find(function(t){return t.type===e.CREDIT_PACK&&t.agreement_details.is_credit_share});return n=null!=i?i.agreement_details:void 0,r=function(e){return e.available_credits},("undefined"!==typeof n&&null!==n?r(n):void 0)||0},r=function(e){return!!e.find(function(e){return e.authorized_sizes.find(function(e){return e.is_free})})},i=function(e,t){return!!function(e,t){return e.filter(function(e){return e.type===t})}(e,t)[0]};return function(o,c){var a=c.agreements||[];return o=(o=o.set("agreements",DeepRecord.fromJS(a))).mergeIn(["calc"],{includedWithSubscription:i(a,e.ROYALTY_FREE_SUBSCRIPTION),redownloadForFree:r(a),isFreeAdminDownload:i(a,e.EASY_ACCESS),teamCreditsAvailable:n(a)}),o=t(o)}}])},1020:function(e,t,n){"use strict";window.IStockDownload.factory("setAvailableCreditsReducer",["setSelectedAccountReducer",function(e){return function(t,n){return t=t.mergeIn(["user"],{credit_amount:Math.max(0,n.personalCredits||0),team_credits:Math.max(0,n.teamCredits||0)}),t=e(t,{selectedAccountName:t.calc.selectedAccount})}}])},1021:function(e,t,n){"use strict";window.IStockDownload.factory("setCalculatedHasSubscriptionReducer",function(){return function(e,t){var n=t.subscription.isEssentials||t.subscription.isSignature;return e=e.mergeIn(["calc"],{hasSubscription:n,isSubscriptionDownloadAllowed:n&&t.includedWithSubscription&&t.subscription.downloadsRemaining>0})}})},1022:function(e,t,n){"use strict";window.IStockDownload.factory("setCalculatedTotalCostReducer",["setSelectedAccountHasEnoughCreditsReducer",function(e){var t=function(e,t){return e+t.credit_cost},n=function(e){return e.reduce(t,0)};return function(t){var r=function(e){return e.licenses.filter(function(e){return e.is_selected&&!e.is_acquired_and_not_repurchasable})}(t);return t=t.mergeIn(["calc"],{totalCreditCost:n(r),notAcquiredSelectedLicenses:r}),t=e(t)}}])},1023:function(e,t,n){"use strict";window.IStockDownload.factory("setDisplayErrorReducer",function(){return function(e,t){return e=e.set("displayError",t.message)}})},1024:function(e,t,n){"use strict";function r(e,t){return"undefined"!==typeof e&&null!==e?t(e):void 0}window.IStockDownload.factory("setDownloadDataReducer",function(){return function(e,t){var n=t.downloadData;return e=e.set("downloadData",DeepRecord.fromJS({data:n,hasDownloadDestinations:0<(null!=n.download_destinations?n.download_destinations.length:void 0),downloadDestinationUrl:r(null!=n.single_downloads?n.single_downloads[0]:void 0,function(e){return e.url}),dropboxEnabled:!!r(null!=n.download_destinations?n.download_destinations[0]:void 0,function(e){return e.token})}))}})},1025:function(e,t,n){"use strict";window.IStockDownload.factory("setLargestSizeAvailableReducer",function(){var e=function(e){var t,n,r=e.sizes;return e.hasEpsFileSize?r.get(e.epsFileSizeIndex):(t=r.last(),n=function(e){return e.epsUnavailable},("undefined"!==typeof t&&null!==t?n(t):void 0)?r.pop().last():r.last())};return function(t){var n;return t.calc.assetIsImage&&(n=e(t.asset)),t=t.setIn(["calc","largestSizeAvailable"],n)}})},1026:function(e,t,n){"use strict";window.IStockDownload.factory("setLicensesReducer",["hasSelectedOptionalLicenses","setCalculatedTotalCostReducer","goToInitiateDownloadAndSelectLicensesStepReducer","goToPurchaseAndSelectLicensesStepReducer",function(e,t,n,r){return function(i,o){var c=o.licenses||[];return i=(i=(i=i.set("licenses",DeepRecord.fromJS(c))).setIn(["calc","optionalLicenseIndexes"],DeepRecord.fromJS(function(e){return e.map(function(e,t){return"Standard"!==e.license_type?t:null}).filter(function(e){return null!==e})}(c)))).setIn(["calc","hasSelectedOptionalLicenses"],e(i)),i=(i=t(i)).calc.isInPricingClarity?r(i):n(i)}}])},1027:function(e,t,n){"use strict";window.IStockDownload.factory("setRedirectBeforeInitiatingDownloadReducer",function(){return function(e,t){return e.user.authenticated?e:(e.asset.freeFile?e=e.set("redirectToUrl","/sign-in?returnurl=".concat(window.location.pathname).concat(window.location.search,"&is_video=").concat(e.calc.assetIsVideo)):(e.user.remembered||e.user.has_purchase_history)&&(e=e.set("redirectToUrl","/sign-in?returnurl=".concat(window.siteMap.download_balance_check,"?url=").concat(window.location.pathname).concat(window.location.search,"&is_video=").concat(e.calc.assetIsVideo))),e)}})},1028:function(e,t,n){"use strict";window.IStockDownload.factory("setRedirectUrlReducer",function(){return function(e,t){return e=e.set("redirectToUrl",t.url)}})},1029:function(e,t,n){"use strict";window.IStockDownload.factory("setSelectedAccountReducer",["accountTypes","agreementTypes","setSelectedAccountHasEnoughCreditsReducer","setSelectedAgreementTypeReducer",function(e,t,n,r){return function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,c=null!=o?o.selectedAccountName:void 0,a=null,s=c===e.TEAM||!!i.user.team_leader;return s?a=i.calc.teamCreditsAvailable:c===e.PERSONAL&&(a=i.user.credit_amount),i=i.mergeIn(["calc"],{selectedAccount:c,selectedAccountCredits:a,selectedAccountHasAnyCredits:0<a,isTeamAccountSelected:s}),i=function(e){var n=void 0;return e.calc.isTeamAccountSelected&&e.calc.selectedAccountHasEnoughCredits&&(n=t.CREDIT_PACK),!e.calc.isTeamAccountSelected&&e.calc.isSubscriptionDownloadAllowed&&e.calc.userIsTeamUser&&(n=t.ROYALTY_FREE_SUBSCRIPTION),r(e,{agreementType:n})}(i=n(i))}}])},1030:function(e,t,n){"use strict";window.IStockDownload.factory("setSelectedAccountHasEnoughCreditsReducer",function(){return function(e,t){var n=e.calc.totalCreditCost<=e.calc.selectedAccountCredits;return e=e.setIn(["calc","selectedAccountHasEnoughCredits"],n)}})},1031:function(e,t,n){"use strict";window.IStockDownload.factory("setSelectedAgreementReducer",["agreementTypes","setAgreementSizeReducer",function(e,t){return function(e,n){return e=e.setIn(["calc","selectedAgreement"],function(e){return function(e){return e.asset.freeFile?e.agreements.first():null}(e)||function(e){return e.agreements.find(function(t){return t.type===e.calc.selectedAgreementType&&(function(e,t){return function(e){return!!e.agreement_details.is_credit_share}(t)===e.calc.isTeamAccountSelected||function(e){return!!e.agreement_details.is_shared_subscription}(t)===e.calc.isTeamAccountSelected}(e,t)||e.user.team_leader)})}(e)}(e)),e=t(e)}}])},1032:function(e,t,n){"use strict";window.IStockDownload.factory("setSelectedAgreementTypeReducer",["agreementTypes","setSelectedAgreementReducer",function(e,t){return function(n,r){var i=(null!=r?r.agreementType:void 0)||n.calc.selectedAgreementType;return n=n.setIn(["calc","selectedAgreementType"],function(t,n){return n===e.ROYALTY_FREE_SUBSCRIPTION?t.calc.step.subsAvailable:n===e.CREDIT_PACK&&t.calc.step.creditsAvailable}(n,i)?i:null),n=t(n)}}])},1033:function(e,t,n){"use strict";window.IStockDownload.factory("setToasterReducer",function(){return function(e,t){var n,r,i,o;return e=e.mergeIn(["calc"],{showDropboxModal:(n=t,r=n.forceDownload,i=n.dropboxEnabled,o=null!=giLocalStorage.getItem("dropboxOptOut"),!r&&!i&&!o)})}})},1034:function(e,t,n){"use strict";window.IStockDownload.factory("togglePricingClarityOptionReducer",["pickPricingClarityPaymentOptionStepReducer",function(e){return function(t,n){return t=e(t,{togglePricingOption:!0,pricingOptionSelected:n.pricingOptionSelected})}}])},1035:function(e,t,n){"use strict";window.IStockDownload.factory("uncheckAllOptionalLicencesReducer",["setCalculatedTotalCostReducer",function(e){return function(t){var n=t.licenses.withMutations(function(e){return t.calc.optionalLicenseIndexes.forEach(function(t){return e.setIn([t,"is_selected"],!1)})});return t=(t=t.set("licenses",n)).setIn(["calc","hasSelectedOptionalLicenses"],!1),t=(t=e(t)).setIn(["calc","step","viewLicenseSelection"],!1)}}])},1036:function(e,t,n){"use strict";n.r(t),n.d(t,"ignoreAllActions",function(){return o});var r=n(388),i=n(205);function o(e,t){return e}window.IStockDownload.factory("rootReducer",["initialState","mappedActionReducer",function(e,t){var n=Object(r.combineReducers)({agreements:o,asset:o,calc:o,displayError:o,downloadData:o,licenses:o,redirectToUrl:o,subscription:i.default,user:o});return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,i=arguments.length>1?arguments[1]:void 0;return r=t(r,i),r=n(r,i)}}])},1037:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(140),o=(r=i)&&r.__esModule?r:{default:r},c=n(1038);t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.default.Map,n=Object.keys(e);return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t(),i=arguments[1];return r.withMutations(function(t){n.forEach(function(n){var r=(0,e[n])(t.get(n),i);(0,c.validateNextState)(r,n,i),t.set(n,r)})})}},e.exports=t.default},1038:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateNextState=t.getUnexpectedInvocationParameterMessage=t.getStateName=void 0;var r=c(n(386)),i=c(n(1039)),o=c(n(1040));function c(e){return e&&e.__esModule?e:{default:e}}t.getStateName=r.default,t.getUnexpectedInvocationParameterMessage=i.default,t.validateNextState=o.default},1039:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(140)),i=o(n(386));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,n){var o=Object.keys(t);if(!o.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";var c=(0,i.default)(n);if(r.default.isImmutable?!r.default.isImmutable(e):!r.default.Iterable.isIterable(e))return"The "+c+' is of unexpected type. Expected argument to be an instance of Immutable.Collection or Immutable.Record with the following properties: "'+o.join('", "')+'".';var a=e.toSeq().keySeq().toArray().filter(function(e){return!t.hasOwnProperty(e)});return a.length>0?"Unexpected "+(1===a.length?"property":"properties")+' "'+a.join('", "')+'" found in '+c+'. Expected to find one of the known reducer property names instead: "'+o.join('", "')+'". Unexpected properties will be ignored.':null},e.exports=t.default},1040:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(void 0===e)throw new Error('Reducer "'+t+'" returned undefined when handling "'+n.type+'" action. To ignore an action, you must explicitly return the previous state.')},e.exports=t.default},1041:function(e,t,n){"use strict";(function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var n,r,i,o;n=void 0,r=void 0,i=void 0,o=void 0,(window.DeepRecord=function(){function c(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c)}var a,s,u;return a=c,u=[{key:"initClass",value:function(){n=function(t){return null!==t&&"object"===typeof t&&!e.Iterable.isIterable(t)},r=function(t){return e.List(t.map(function(e){return o(e)}))},i=function(t){for(var n in t){var r=t[n];t[n]=o(r)}return e.Record(t)()},o=function(e){return n(e)?Array.isArray(e)?r(e):i(e):e}}},{key:"fromJS",value:function(e){return o(e)}}],(s=null)&&t(a.prototype,s),u&&t(a,u),c}()).initClass()}).call(this,n(140))},1042:function(e,t,n){"use strict";window.IStockDownload.factory("adpViewedTrackingReducer",["$window","$document",function(e,t){return function(){t.safeReady(function(){e.combinedGtmTracking&&e.combinedGtmTracking.gtmPushTracking("adpView")})}}])},1043:function(e,t,n){"use strict";window.IStockDownload.factory("chooseAccountTracking",["$window","accountTypes",function(e,t){return function(e){return function(){if("undefined"===typeof s||null===s)return!1;var n=$.siteCatalyst.pageTrackingVariables(),r=$.extend({},n);return r.eVar77=!0,s.linkTrackVars=$.map(r,function(e,t){return t}).join(","),s.linkTrackEvents="event197",s.events="event197",s.eVar77=e===t.PERSONAL?"MyAccount":"SharedCreditAccount",s.tl(!0,"o","Choose Account")}}}])},1044:function(e,t,n){"use strict";window.IStockDownload.factory("confirmDownloadTracking",["$window","agreementTypes",function(e,t){return function(n,r,i,o,c){return function(){if("undefined"===typeof s||null===s)return!1;var a=e.tracking_data.asset_details,u={downloadedCount:n.downloadedCount,remainingCount:n.downloadsRemaining,daysUntilExpiry:n.daysUntilExpiry,autoRenews:n.autoRenew},l=u.autoRenews?"on":"off",d=o.selectedAgreementType===t.CREDIT_PACK,f=o.totalCreditCost,_=o.redownloadForFree,p=o.userIsTeamUser,h=i&&o.isTeamAccountSelected,v=d&&0===f;d=d&&!v,s.linkTrackEvents="event4",s.events="event4";var y="events,products,prop7,eVar7,eVar13,eVar39,prop39,prop56,prop59,eVar62";s.eVar13=$.AssetDetail.Tracking.eVar13(a),s.prop39=s.eVar39=null!=e.giLocalStorage?e.giLocalStorage.getItem("target_search_mix"):void 0,s.prop56=a.asset_id,s.prop59="adp|download",v||_?(s.products=";;;;event23=0;;",s.linkTrackEvents+=",event23,event33",s.events+=",event23,event33",_&&(y+=",eVar62",s.eVar62="redownload")):d?(s.products=";;;;event23=".concat(f,";;"),s.linkTrackEvents+=",event23",s.events+=",event23",y+=",eVar62",s.eVar62="Credits"):(s.products=";SUBISTOCK1M",y+=",eVar62,prop24",s.eVar62="Subscription",s.prop24=[u.remainingCount,u.downloadedCount,u.daysUntilExpiry,l].join("|")),p&&(s.eVar62+=r?" | Leader Download":" | Member Download"),p&&!r&&(window.tracking_data.download_with_team_credits=h);var S=$.siteCatalyst.pageTrackingVariables(),w=$.extend({},S);if(y&&y.length>0){var g=!0,m=!1,I=void 0;try{for(var T,E=y.split(",")[Symbol.iterator]();!(g=(T=E.next()).done);g=!0){w[T.value]=!0}}catch(b){m=!0,I=b}finally{try{g||null==E.return||E.return()}finally{if(m)throw I}}}return s.linkTrackVars=$.map(w,function(e,t){return t}).join(","),s.tl(!0,"o",c.replace(/\s/g,""))}}}])},1045:function(e,t,n){"use strict";window.IStockDownload.factory("freeAdminDownloadTracking",["$window",function(e){return function(e,t){return function(){if("undefined"===typeof s||null===s)return!1;s.linkTrackEvents+=",event198",s.events+=",event198";var n=$.siteCatalyst.pageTrackingVariables(),r=$.extend({},n);return r.eVar62=!0,s.linkTrackVars+=$.map(r,function(e,t){return t}).join(","),e&&(s.eVar62=t?"Leader Download":"Member Download"),s.tl(!0,"o","Download Image")}}}])},1046:function(e,t,n){"use strict";window.IStockDownload.factory("goToInitiateDownloadAndSelectLicensesTracking",["$window",function(e){return function(e,t,n){return function(){if("undefined"===typeof s||null===s)return!1;s.linkTrackEvents="event45",s.events="event45";var r="events,prop65";e&&(s.eVar62=t?"Leader Download":"Member Download",r+=",eVar62",s.events+=",event198",s.linkTrackEvents+=",event198");var i=$.siteCatalyst.pageTrackingVariables(),o=$.extend({},i);if(r&&r.length>0){var c=!0,a=!1,u=void 0;try{for(var l,d=r.split(",")[Symbol.iterator]();!(c=(l=d.next()).done);c=!0){o[l.value]=!0}}catch(f){a=!0,u=f}finally{try{c||null==d.return||d.return()}finally{if(a)throw u}}}return s.linkTrackVars=$.map(o,function(e,t){return t}).join(","),s.tl(!0,"o",n.replace(/\s/g,""))}}}])},1047:function(e,t,n){"use strict";window.IStockDownload.factory("goToPurchaseAndSelectLicensesTracking",["$window",function(e){return function(e,t,n){return function(){if("undefined"===typeof s||null===s)return!1;s.linkTrackEvents="event45",s.events="event45";var r="events,prop65";e&&(s.eVar62=t?"Leader Download":"Member Download",r+=",eVar62",s.events+=",event198",s.linkTrackEvents+=",event198");var i=$.siteCatalyst.pageTrackingVariables(),o=$.extend({},i);if(r&&r.length>0){var c=!0,a=!1,u=void 0;try{for(var l,d=r.split(",")[Symbol.iterator]();!(c=(l=d.next()).done);c=!0){o[l.value]=!0}}catch(f){a=!0,u=f}finally{try{c||null==d.return||d.return()}finally{if(a)throw u}}}s.linkTrackVars=$.map(o,function(e,t){return t}).join(","),s.tl(!0,"o",n.replace(/\s/g,""));return s.linkTrackEvents="event141",s.events="event141",s.event141="P&P checkout click",s.tl(!0,"o","P&P checkout click")}}}])},1048:function(e,t,n){"use strict";window.IStockDownload.factory("performDownloadTracking",["agreementTypes","trackingService","eventBus",function(e,t,n){return function(r){return n.trigger("track.singleDownload",{agreementType:r.calc.selectedAgreementType}),t.singleDownload(function(t){return t.asset.freeFile?"free_download":t.calc.redownloadForFree?"redownload":t.calc.selectedAgreementType===e.CREDIT_PACK?"credits":t.calc.selectedAgreementType===e.ROYALTY_FREE_SUBSCRIPTION?"subscription":null}(r),function(e){return e.calc.hasSelectedOptionalLicenses?e.licenses.filter(function(e){return e.is_selected&&"Standard"!==e.license_type}).map(function(e){return e.license_type}).toArray():null}(r))}}])},1049:function(e,t,n){"use strict";window.IStockDownload.factory("pickPaymentOptionTracking",["$window",function(e){return function(e,t,n){return function(){if("undefined"===typeof s||null===s)return!1;s.linkTrackEvents="event45",s.events="event45";var r="events,prop65";e&&(s.eVar62=t?"Leader Download":"Member Download",r+=",eVar62",s.events+=",event198",s.linkTrackEvents+=",event198");var i=$.siteCatalyst.pageTrackingVariables(),o=$.extend({},i);if(r&&r.length>0){var c=!0,a=!1,u=void 0;try{for(var l,d=r.split(",")[Symbol.iterator]();!(c=(l=d.next()).done);c=!0){o[l.value]=!0}}catch(f){a=!0,u=f}finally{try{c||null==d.return||d.return()}finally{if(a)throw u}}}return s.linkTrackVars=$.map(o,function(e,t){return t}).join(","),s.tl(!0,"o",n.replace(/\s/g,""))}}}])},1050:function(e,t,n){"use strict";window.IStockDownload.factory("pickPricingClarityPaymentOptionTracking",["$window",function(e){return function(t,n){return function(){var r,i=function(){return"film"==n.asset.assetType},o=function(){switch(t){case"checkout":return c();case"checkoutSecondRadio":return a();case"checkoutSubscription":return s()}},c=function(){return i()?"adp_continue_to_checkout_button_single_clip_credit_pack_option":"adp_continue_to_checkout_button-single_image_option"},a=function(){return i()?"adp_continue_to_checkout_button_multi_clip_credit_pack_option":n.user.three_radio_button_test?"adp_continue_to_checkout_button-multi_credit_pack_option":"adp_continue_to_checkout_button-subscription_option"},s=function(){return"adp_continue_to_checkout_button-subscription_option"},u=function(){switch(t){case"checkout":return l();case"checkoutSecondRadio":return d();case"checkoutSubscription":return n.user.fast_checkout_subs_pack_sku}},l=function(){return n.asset.standardLicense.minimum_sku},d=function(){return n.user.istock_fast_checkout_larger_offer_credit_pack_sku};!(n.user.fast_checkout_sub||n.user.three_radio_button_test||i())||"checkout"!=t&&"checkoutSecondRadio"!=t&&"checkoutSubscription"!=t||(r=o(),e.combinedGtmTracking&&e.combinedGtmTracking.gtmPushTracking("adpInteraction",{adp_interaction:"ADP_Download_Button_Click",adp_selection:"Fast_Checkout_Option",sku:u(),ui_element_location:r}))}}}])},1051:function(e,t,n){"use strict";window.IStockDownload.factory("accountTypes",function(){return{PERSONAL:"personalAccount",TEAM:"teamAccount"}})},1052:function(e,t,n){"use strict";window.IStockDownload.factory("agreementTypes",function(){return{ROYALTY_FREE_SUBSCRIPTION:"RoyaltyFreeSubscription",CREDIT_PACK:"CreditPack",EASY_ACCESS:"EasyAccess",ALL:["RoyaltyFreeSubscription","CreditPack","EasyAccess"]}})},1053:function(e,t,n){"use strict";window.IStockDownload.factory("assetCollectionNames",function(){var e=function(e){return!!(null!=e?e.match(/signature/i):void 0)};return{SIGNATURE:"signature",ESSENTIALS:"essentials",isSignature:e,isEssentials:function(e){return!!(null!=e?e.match(/essentials/i):void 0)},getAssetCollectionName:function(t){return e(t.istockCollection)?"signature":"essentials"}}})},1054:function(e,t,n){"use strict";window.IStockDownload.factory("userDetailsService",["assetCollectionNames",function(e){var t={subsInfo:{}},n=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.name||"";return t.subsInfo={isSignature:e.isSignature(r),isEssentials:e.isEssentials(r),downloadedCount:n.download_count||0,downloadLimit:n.download_limit||0,autoRenews:!!n.is_auto_renewal,daysUntilExpiry:n.days_until_product_expires||0},t.subsInfo.downloadsRemaining=t.subsInfo.downloadLimit-t.subsInfo.downloadedCount},r=function(e){window.tracking_data.has_purchased=e.has_purchase_history,window.tracking_data.has_credits=e.has_credits,window.tracking_data.has_subscription=e.has_subscription,window.tracking_data.has_subs_downloads=e.subsInfo.downloadsRemaining>0,window.tracking_data.remembered=e.remembered,window.tracking_data.authenticated=e.authenticated};return{formatUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(t=e).credit_amount=t.credit_amount||0,t.authenticated=t.authenticated||!1,t.remembered=t.remembered||!1,t.team_member=t.team_member||!1,t.team_leader=t.team_leader||!1,t.has_credits=t.has_credits||!1,t.has_subscription=t.has_subscription||!1,t.team_credits=t.team_credits||0,t.team_name=t.team_name||"",n(),r(t),t}}}])},140:function(e,t,n){"use strict";e.exports=function(){var e=Array.prototype.slice;function t(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function n(e){return c(e)?e:Y(e)}function r(e){return a(e)?e:$(e)}function i(e){return s(e)?e:q(e)}function o(e){return c(e)&&!u(e)?e:K(e)}function c(e){return!(!e||!e[d])}function a(e){return!(!e||!e[f])}function s(e){return!(!e||!e[_])}function u(e){return a(e)||s(e)}function l(e){return!(!e||!e[p])}t(r,n),t(i,n),t(o,n),n.isIterable=c,n.isKeyed=a,n.isIndexed=s,n.isAssociative=u,n.isOrdered=l,n.Keyed=r,n.Indexed=i,n.Set=o;var d="@@__IMMUTABLE_ITERABLE__@@",f="@@__IMMUTABLE_KEYED__@@",_="@@__IMMUTABLE_INDEXED__@@",p="@@__IMMUTABLE_ORDERED__@@",h=5,v=1<<h,y=v-1,S={},w={value:!1},g={value:!1};function m(e){return e.value=!1,e}function I(e){e&&(e.value=!0)}function T(){}function E(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),i=0;i<n;i++)r[i]=e[i+t];return r}function b(e){return void 0===e.size&&(e.size=e.__iterate(C)),e.size}function A(e,t){if("number"!==typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?b(e)+t:t}function C(){return!0}function O(e,t,n){return(0===e||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function D(e,t){return N(e,t,0)}function R(e,t){return N(e,t,t)}function N(e,t,n){return void 0===e?n:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}var k=0,P=1,L=2,j="function"===typeof Symbol&&Symbol.iterator,M="@@iterator",U=j||M;function x(e){this.next=e}function B(e,t,n,r){var i=0===e?t:1===e?n:[t,n];return r?r.value=i:r={value:i,done:!1},r}function z(){return{value:void 0,done:!0}}function F(e){return!!H(e)}function W(e){return e&&"function"===typeof e.next}function G(e){var t=H(e);return t&&t.call(e)}function H(e){var t=e&&(j&&e[j]||e[M]);if("function"===typeof t)return t}function V(e){return e&&"number"===typeof e.length}function Y(e){return null===e||void 0===e?oe():c(e)?e.toSeq():function(e){var t=se(e)||"object"===typeof e&&new te(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}(e)}function $(e){return null===e||void 0===e?oe().toKeyedSeq():c(e)?a(e)?e.toSeq():e.fromEntrySeq():ce(e)}function q(e){return null===e||void 0===e?oe():c(e)?a(e)?e.entrySeq():e.toIndexedSeq():ae(e)}function K(e){return(null===e||void 0===e?oe():c(e)?a(e)?e.entrySeq():e:ae(e)).toSetSeq()}x.prototype.toString=function(){return"[Iterator]"},x.KEYS=k,x.VALUES=P,x.ENTRIES=L,x.prototype.inspect=x.prototype.toSource=function(){return this.toString()},x.prototype[U]=function(){return this},t(Y,n),Y.of=function(){return Y(arguments)},Y.prototype.toSeq=function(){return this},Y.prototype.toString=function(){return this.__toString("Seq {","}")},Y.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},Y.prototype.__iterate=function(e,t){return ue(this,e,t,!0)},Y.prototype.__iterator=function(e,t){return le(this,e,t,!0)},t($,Y),$.prototype.toKeyedSeq=function(){return this},t(q,Y),q.of=function(){return q(arguments)},q.prototype.toIndexedSeq=function(){return this},q.prototype.toString=function(){return this.__toString("Seq [","]")},q.prototype.__iterate=function(e,t){return ue(this,e,t,!1)},q.prototype.__iterator=function(e,t){return le(this,e,t,!1)},t(K,Y),K.of=function(){return K(arguments)},K.prototype.toSetSeq=function(){return this},Y.isSeq=ie,Y.Keyed=$,Y.Set=K,Y.Indexed=q;var J,X,Z,Q="@@__IMMUTABLE_SEQ__@@";function ee(e){this._array=e,this.size=e.length}function te(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function ne(e){this._iterable=e,this.size=e.length||e.size}function re(e){this._iterator=e,this._iteratorCache=[]}function ie(e){return!(!e||!e[Q])}function oe(){return J||(J=new ee([]))}function ce(e){var t=Array.isArray(e)?new ee(e).fromEntrySeq():W(e)?new re(e).fromEntrySeq():F(e)?new ne(e).fromEntrySeq():"object"===typeof e?new te(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function ae(e){var t=se(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function se(e){return V(e)?new ee(e):W(e)?new re(e):F(e)?new ne(e):void 0}function ue(e,t,n,r){var i=e._cache;if(i){for(var o=i.length-1,c=0;c<=o;c++){var a=i[n?o-c:c];if(!1===t(a[1],r?a[0]:c,e))return c+1}return c}return e.__iterateUncached(t,n)}function le(e,t,n,r){var i=e._cache;if(i){var o=i.length-1,c=0;return new x(function(){var e=i[n?o-c:c];return c++>o?{value:void 0,done:!0}:B(t,r?e[0]:c-1,e[1])})}return e.__iteratorUncached(t,n)}function de(e,t){return t?function e(t,n,r,i){return Array.isArray(n)?t.call(i,r,q(n).map(function(r,i){return e(t,r,i,n)})):_e(n)?t.call(i,r,$(n).map(function(r,i){return e(t,r,i,n)})):n}(t,e,"",{"":e}):fe(e)}function fe(e){return Array.isArray(e)?q(e).map(fe).toList():_e(e)?$(e).map(fe).toMap():e}function _e(e){return e&&(e.constructor===Object||void 0===e.constructor)}function pe(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if("function"===typeof e.valueOf&&"function"===typeof t.valueOf){if(e=e.valueOf(),t=t.valueOf(),e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!("function"!==typeof e.equals||"function"!==typeof t.equals||!e.equals(t))}function he(e,t){if(e===t)return!0;if(!c(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||a(e)!==a(t)||s(e)!==s(t)||l(e)!==l(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!u(e);if(l(e)){var r=e.entries();return t.every(function(e,t){var i=r.next().value;return i&&pe(i[1],e)&&(n||pe(i[0],t))})&&r.next().done}var i=!1;if(void 0===e.size)if(void 0===t.size)"function"===typeof e.cacheResult&&e.cacheResult();else{i=!0;var o=e;e=t,t=o}var d=!0,f=t.__iterate(function(t,r){if(n?!e.has(t):i?!pe(t,e.get(r,S)):!pe(e.get(r,S),t))return d=!1,!1});return d&&e.size===f}function ve(e,t){if(!(this instanceof ve))return new ve(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(X)return X;X=this}}function ye(e,t){if(!e)throw new Error(t)}function Se(e,t,n){if(!(this instanceof Se))return new Se(e,t,n);if(ye(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if(Z)return Z;Z=this}}function we(){throw TypeError("Abstract")}function ge(){}function me(){}function Ie(){}Y.prototype[Q]=!0,t(ee,q),ee.prototype.get=function(e,t){return this.has(e)?this._array[A(this,e)]:t},ee.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length-1,i=0;i<=r;i++)if(!1===e(n[t?r-i:i],i,this))return i+1;return i},ee.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,i=0;return new x(function(){return i>r?{value:void 0,done:!0}:B(e,i,n[t?r-i++:i++])})},t(te,$),te.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},te.prototype.has=function(e){return this._object.hasOwnProperty(e)},te.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,i=r.length-1,o=0;o<=i;o++){var c=r[t?i-o:o];if(!1===e(n[c],c,this))return o+1}return o},te.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,i=r.length-1,o=0;return new x(function(){var c=r[t?i-o:o];return o++>i?{value:void 0,done:!0}:B(e,c,n[c])})},te.prototype[p]=!0,t(ne,q),ne.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=this._iterable,r=G(n),i=0;if(W(r))for(var o;!(o=r.next()).done&&!1!==e(o.value,i++,this););return i},ne.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterable,r=G(n);if(!W(r))return new x(z);var i=0;return new x(function(){var t=r.next();return t.done?t:B(e,i++,t.value)})},t(re,q),re.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n,r=this._iterator,i=this._iteratorCache,o=0;o<i.length;)if(!1===e(i[o],o++,this))return o;for(;!(n=r.next()).done;){var c=n.value;if(i[o]=c,!1===e(c,o++,this))break}return o},re.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,i=0;return new x(function(){if(i>=r.length){var t=n.next();if(t.done)return t;r[i]=t.value}return B(e,i,r[i++])})},t(ve,q),ve.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},ve.prototype.get=function(e,t){return this.has(e)?this._value:t},ve.prototype.includes=function(e){return pe(this._value,e)},ve.prototype.slice=function(e,t){var n=this.size;return O(e,t,n)?this:new ve(this._value,R(t,n)-D(e,n))},ve.prototype.reverse=function(){return this},ve.prototype.indexOf=function(e){return pe(this._value,e)?0:-1},ve.prototype.lastIndexOf=function(e){return pe(this._value,e)?this.size:-1},ve.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(!1===e(this._value,n,this))return n+1;return n},ve.prototype.__iterator=function(e,t){var n=this,r=0;return new x(function(){return r<n.size?B(e,r++,n._value):{value:void 0,done:!0}})},ve.prototype.equals=function(e){return e instanceof ve?pe(this._value,e._value):he(e)},t(Se,q),Se.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},Se.prototype.get=function(e,t){return this.has(e)?this._start+A(this,e)*this._step:t},Se.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},Se.prototype.slice=function(e,t){return O(e,t,this.size)?this:(e=D(e,this.size),(t=R(t,this.size))<=e?new Se(0,0):new Se(this.get(e,this._end),this.get(t,this._end),this._step))},Se.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step===0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},Se.prototype.lastIndexOf=function(e){return this.indexOf(e)},Se.prototype.__iterate=function(e,t){for(var n=this.size-1,r=this._step,i=t?this._start+n*r:this._start,o=0;o<=n;o++){if(!1===e(i,o,this))return o+1;i+=t?-r:r}return o},Se.prototype.__iterator=function(e,t){var n=this.size-1,r=this._step,i=t?this._start+n*r:this._start,o=0;return new x(function(){var c=i;return i+=t?-r:r,o>n?{value:void 0,done:!0}:B(e,o++,c)})},Se.prototype.equals=function(e){return e instanceof Se?this._start===e._start&&this._end===e._end&&this._step===e._step:he(this,e)},t(we,n),t(ge,we),t(me,we),t(Ie,we),we.Keyed=ge,we.Indexed=me,we.Set=Ie;var Te="function"===typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function Ee(e){return e>>>1&1073741824|3221225471&e}function be(e){if(!1===e||null===e||void 0===e)return 0;if("function"===typeof e.valueOf&&(!1===(e=e.valueOf())||null===e||void 0===e))return 0;if(!0===e)return 1;var t=typeof e;if("number"===t){if(e!==e||e===1/0)return 0;var n=0|e;for(n!==e&&(n^=4294967295*e);e>4294967295;)n^=e/=4294967295;return Ee(n)}if("string"===t)return e.length>Pe?function(e){var t=Me[e];return void 0===t&&(t=Ae(e),je===Le&&(je=0,Me={}),je++,Me[e]=t),t}(e):Ae(e);if("function"===typeof e.hashCode)return e.hashCode();if("object"===t)return function(e){var t;if(Re&&void 0!==(t=Ce.get(e)))return t;if(void 0!==(t=e[ke]))return t;if(!De){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[ke]))return t;if(void 0!==(t=function(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e)))return t}if(t=++Ne,1073741824&Ne&&(Ne=0),Re)Ce.set(e,t);else{if(void 0!==Oe&&!1===Oe(e))throw new Error("Non-extensible objects are not allowed as keys.");if(De)Object.defineProperty(e,ke,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[ke]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[ke]=t}}return t}(e);if("function"===typeof e.toString)return Ae(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function Ae(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return Ee(t)}var Ce,Oe=Object.isExtensible,De=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}(),Re="function"===typeof WeakMap;Re&&(Ce=new WeakMap);var Ne=0,ke="__immutablehash__";"function"===typeof Symbol&&(ke=Symbol(ke));var Pe=16,Le=255,je=0,Me={};function Ue(e){ye(e!==1/0,"Cannot perform this action with an infinite size.")}function xe(e){return null===e||void 0===e?Ze():Be(e)&&!l(e)?e:Ze().withMutations(function(t){var n=r(e);Ue(n.size),n.forEach(function(e,n){return t.set(n,e)})})}function Be(e){return!(!e||!e[Fe])}t(xe,ge),xe.of=function(){var t=e.call(arguments,0);return Ze().withMutations(function(e){for(var n=0;n<t.length;n+=2){if(n+1>=t.length)throw new Error("Missing value for key: "+t[n]);e.set(t[n],t[n+1])}})},xe.prototype.toString=function(){return this.__toString("Map {","}")},xe.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},xe.prototype.set=function(e,t){return Qe(this,e,t)},xe.prototype.setIn=function(e,t){return this.updateIn(e,S,function(){return t})},xe.prototype.remove=function(e){return Qe(this,e,S)},xe.prototype.deleteIn=function(e){return this.updateIn(e,function(){return S})},xe.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},xe.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var r=function e(t,n,r,i){var o=t===S,c=n.next();if(c.done){var a=o?r:t,s=i(a);return s===a?t:s}ye(o||t&&t.set,"invalid keyPath");var u=c.value,l=o?S:t.get(u,S),d=e(l,n,r,i);return d===l?t:d===S?t.remove(u):(o?Ze():t).set(u,d)}(this,nn(e),t,n);return r===S?void 0:r},xe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Ze()},xe.prototype.merge=function(){return rt(this,void 0,arguments)},xe.prototype.mergeWith=function(t){var n=e.call(arguments,1);return rt(this,t,n)},xe.prototype.mergeIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,Ze(),function(e){return"function"===typeof e.merge?e.merge.apply(e,n):n[n.length-1]})},xe.prototype.mergeDeep=function(){return rt(this,it,arguments)},xe.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return rt(this,ot(t),n)},xe.prototype.mergeDeepIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,Ze(),function(e){return"function"===typeof e.mergeDeep?e.mergeDeep.apply(e,n):n[n.length-1]})},xe.prototype.sort=function(e){return Dt(Vt(this,e))},xe.prototype.sortBy=function(e,t){return Dt(Vt(this,t,e))},xe.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},xe.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new T)},xe.prototype.asImmutable=function(){return this.__ensureOwner()},xe.prototype.wasAltered=function(){return this.__altered},xe.prototype.__iterator=function(e,t){return new qe(this,e,t)},xe.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate(function(t){return r++,e(t[1],t[0],n)},t),r},xe.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Xe(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},xe.isMap=Be;var ze,Fe="@@__IMMUTABLE_MAP__@@",We=xe.prototype;function Ge(e,t){this.ownerID=e,this.entries=t}function He(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function Ve(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function Ye(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function $e(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function qe(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&Je(e._root)}function Ke(e,t){return B(e,t[0],t[1])}function Je(e,t){return{node:e,index:0,__prev:t}}function Xe(e,t,n,r){var i=Object.create(We);return i.size=e,i._root=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Ze(){return ze||(ze=Xe(0))}function Qe(e,t,n){var r,i;if(e._root){var o=m(w),c=m(g);if(r=et(e._root,e.__ownerID,0,void 0,t,n,o,c),!c.value)return e;i=e.size+(o.value?n===S?-1:1:0)}else{if(n===S)return e;i=1,r=new Ge(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=i,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?Xe(i,r):Ze()}function et(e,t,n,r,i,o,c,a){return e?e.update(t,n,r,i,o,c,a):o===S?e:(I(a),I(c),new $e(t,r,[i,o]))}function tt(e){return e.constructor===$e||e.constructor===Ye}function nt(e,t,n,r,i){if(e.keyHash===r)return new Ye(t,r,[e.entry,i]);var o,c=(0===n?e.keyHash:e.keyHash>>>n)&y,a=(0===n?r:r>>>n)&y,s=c===a?[nt(e,t,n+h,r,i)]:(o=new $e(t,r,i),c<a?[e,o]:[o,e]);return new He(t,1<<c|1<<a,s)}function rt(e,t,n){for(var i=[],o=0;o<n.length;o++){var a=n[o],s=r(a);c(a)||(s=s.map(function(e){return de(e)})),i.push(s)}return ct(e,t,i)}function it(e,t,n){return e&&e.mergeDeep&&c(t)?e.mergeDeep(t):pe(e,t)?e:t}function ot(e){return function(t,n,r){if(t&&t.mergeDeepWith&&c(n))return t.mergeDeepWith(e,n);var i=e(t,n,r);return pe(t,i)?t:i}}function ct(e,t,n){return 0===(n=n.filter(function(e){return 0!==e.size})).length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations(function(e){for(var r=t?function(n,r){e.update(r,S,function(e){return e===S?n:t(e,n,r)})}:function(t,n){e.set(n,t)},i=0;i<n.length;i++)n[i].forEach(r)}):e.constructor(n[0])}function at(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function st(e,t,n,r){var i=r?e:E(e);return i[t]=n,i}We[Fe]=!0,We.delete=We.remove,We.removeIn=We.deleteIn,Ge.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,c=i.length;o<c;o++)if(pe(n,i[o][0]))return i[o][1];return r},Ge.prototype.update=function(e,t,n,r,i,o,c){for(var a=i===S,s=this.entries,u=0,l=s.length;u<l&&!pe(r,s[u][0]);u++);var d=u<l;if(d?s[u][1]===i:a)return this;if(I(c),(a||!d)&&I(o),!a||1!==s.length){if(!d&&!a&&s.length>=ut)return function(e,t,n,r){e||(e=new T);for(var i=new $e(e,be(n),[n,r]),o=0;o<t.length;o++){var c=t[o];i=i.update(e,0,void 0,c[0],c[1])}return i}(e,s,r,i);var f=e&&e===this.ownerID,_=f?s:E(s);return d?a?u===l-1?_.pop():_[u]=_.pop():_[u]=[r,i]:_.push([r,i]),f?(this.entries=_,this):new Ge(e,_)}},He.prototype.get=function(e,t,n,r){void 0===t&&(t=be(n));var i=1<<((0===e?t:t>>>e)&y),o=this.bitmap;return 0===(o&i)?r:this.nodes[at(o&i-1)].get(e+h,t,n,r)},He.prototype.update=function(e,t,n,r,i,o,c){void 0===n&&(n=be(r));var a=(0===t?n:n>>>t)&y,s=1<<a,u=this.bitmap,l=0!==(u&s);if(!l&&i===S)return this;var d=at(u&s-1),f=this.nodes,_=l?f[d]:void 0,p=et(_,e,t+h,n,r,i,o,c);if(p===_)return this;if(!l&&p&&f.length>=lt)return function(e,t,n,r,i){for(var o=0,c=new Array(v),a=0;0!==n;a++,n>>>=1)c[a]=1&n?t[o++]:void 0;return c[r]=i,new Ve(e,o+1,c)}(e,f,u,a,p);if(l&&!p&&2===f.length&&tt(f[1^d]))return f[1^d];if(l&&p&&1===f.length&&tt(p))return p;var w=e&&e===this.ownerID,g=l?p?u:u^s:u|s,m=l?p?st(f,d,p,w):function(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var i=new Array(r),o=0,c=0;c<r;c++)c===t&&(o=1),i[c]=e[c+o];return i}(f,d,w):function(e,t,n,r){var i=e.length+1;if(r&&t+1===i)return e[t]=n,e;for(var o=new Array(i),c=0,a=0;a<i;a++)a===t?(o[a]=n,c=-1):o[a]=e[a+c];return o}(f,d,p,w);return w?(this.bitmap=g,this.nodes=m,this):new He(e,g,m)},Ve.prototype.get=function(e,t,n,r){void 0===t&&(t=be(n));var i=(0===e?t:t>>>e)&y,o=this.nodes[i];return o?o.get(e+h,t,n,r):r},Ve.prototype.update=function(e,t,n,r,i,o,c){void 0===n&&(n=be(r));var a=(0===t?n:n>>>t)&y,s=i===S,u=this.nodes,l=u[a];if(s&&!l)return this;var d=et(l,e,t+h,n,r,i,o,c);if(d===l)return this;var f=this.count;if(l){if(!d&&--f<dt)return function(e,t,n,r){for(var i=0,o=0,c=new Array(n),a=0,s=1,u=t.length;a<u;a++,s<<=1){var l=t[a];void 0!==l&&a!==r&&(i|=s,c[o++]=l)}return new He(e,i,c)}(e,u,f,a)}else f++;var _=e&&e===this.ownerID,p=st(u,a,d,_);return _?(this.count=f,this.nodes=p,this):new Ve(e,f,p)},Ye.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,c=i.length;o<c;o++)if(pe(n,i[o][0]))return i[o][1];return r},Ye.prototype.update=function(e,t,n,r,i,o,c){void 0===n&&(n=be(r));var a=i===S;if(n!==this.keyHash)return a?this:(I(c),I(o),nt(this,e,t,n,[r,i]));for(var s=this.entries,u=0,l=s.length;u<l&&!pe(r,s[u][0]);u++);var d=u<l;if(d?s[u][1]===i:a)return this;if(I(c),(a||!d)&&I(o),a&&2===l)return new $e(e,this.keyHash,s[1^u]);var f=e&&e===this.ownerID,_=f?s:E(s);return d?a?u===l-1?_.pop():_[u]=_.pop():_[u]=[r,i]:_.push([r,i]),f?(this.entries=_,this):new Ye(e,this.keyHash,_)},$e.prototype.get=function(e,t,n,r){return pe(n,this.entry[0])?this.entry[1]:r},$e.prototype.update=function(e,t,n,r,i,o,c){var a=i===S,s=pe(r,this.entry[0]);return(s?i===this.entry[1]:a)?this:(I(c),a?void I(o):s?e&&e===this.ownerID?(this.entry[1]=i,this):new $e(e,this.keyHash,[r,i]):(I(o),nt(this,e,t,be(r),[r,i])))},Ge.prototype.iterate=Ye.prototype.iterate=function(e,t){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(!1===e(n[t?i-r:r]))return!1},He.prototype.iterate=Ve.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[t?i-r:r];if(o&&!1===o.iterate(e,t))return!1}},$e.prototype.iterate=function(e,t){return e(this.entry)},t(qe,x),qe.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,r=t.node,i=t.index++;if(r.entry){if(0===i)return Ke(e,r.entry)}else if(r.entries){if(n=r.entries.length-1,i<=n)return Ke(e,r.entries[this._reverse?n-i:i])}else if(n=r.nodes.length-1,i<=n){var o=r.nodes[this._reverse?n-i:i];if(o){if(o.entry)return Ke(e,o.entry);t=this._stack=Je(o,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var ut=v/4,lt=v/2,dt=v/4;function ft(e){var t=It();if(null===e||void 0===e)return t;if(_t(e))return e;var n=i(e),r=n.size;return 0===r?t:(Ue(r),r>0&&r<v?mt(0,r,h,null,new vt(n.toArray())):t.withMutations(function(e){e.setSize(r),n.forEach(function(t,n){return e.set(n,t)})}))}function _t(e){return!(!e||!e[pt])}t(ft,me),ft.of=function(){return this(arguments)},ft.prototype.toString=function(){return this.__toString("List [","]")},ft.prototype.get=function(e,t){if((e=A(this,e))>=0&&e<this.size){var n=bt(this,e+=this._origin);return n&&n.array[e&y]}return t},ft.prototype.set=function(e,t){return function(e,t,n){if((t=A(e,t))!==t)return e;if(t>=e.size||t<0)return e.withMutations(function(e){t<0?At(e,t).set(0,n):At(e,0,t+1).set(t,n)});t+=e._origin;var r=e._tail,i=e._root,o=m(g);return t>=Ot(e._capacity)?r=Tt(r,e.__ownerID,0,t,n,o):i=Tt(i,e.__ownerID,e._level,t,n,o),o.value?e.__ownerID?(e._root=i,e._tail=r,e.__hash=void 0,e.__altered=!0,e):mt(e._origin,e._capacity,e._level,i,r):e}(this,e,t)},ft.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},ft.prototype.insert=function(e,t){return this.splice(e,0,t)},ft.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=h,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):It()},ft.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations(function(n){At(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])})},ft.prototype.pop=function(){return At(this,0,-1)},ft.prototype.unshift=function(){var e=arguments;return this.withMutations(function(t){At(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])})},ft.prototype.shift=function(){return At(this,1)},ft.prototype.merge=function(){return Ct(this,void 0,arguments)},ft.prototype.mergeWith=function(t){var n=e.call(arguments,1);return Ct(this,t,n)},ft.prototype.mergeDeep=function(){return Ct(this,it,arguments)},ft.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return Ct(this,ot(t),n)},ft.prototype.setSize=function(e){return At(this,0,e)},ft.prototype.slice=function(e,t){var n=this.size;return O(e,t,n)?this:At(this,D(e,n),R(t,n))},ft.prototype.__iterator=function(e,t){var n=0,r=gt(this,t);return new x(function(){var t=r();return t===wt?{value:void 0,done:!0}:B(e,n++,t)})},ft.prototype.__iterate=function(e,t){for(var n,r=0,i=gt(this,t);(n=i())!==wt&&!1!==e(n,r++,this););return r},ft.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?mt(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},ft.isList=_t;var pt="@@__IMMUTABLE_LIST__@@",ht=ft.prototype;function vt(e,t){this.array=e,this.ownerID=t}ht[pt]=!0,ht.delete=ht.remove,ht.setIn=We.setIn,ht.deleteIn=ht.removeIn=We.removeIn,ht.update=We.update,ht.updateIn=We.updateIn,ht.mergeIn=We.mergeIn,ht.mergeDeepIn=We.mergeDeepIn,ht.withMutations=We.withMutations,ht.asMutable=We.asMutable,ht.asImmutable=We.asImmutable,ht.wasAltered=We.wasAltered,vt.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&y;if(r>=this.array.length)return new vt([],e);var i,o=0===r;if(t>0){var c=this.array[r];if((i=c&&c.removeBefore(e,t-h,n))===c&&o)return this}if(o&&!i)return this;var a=Et(this,e);if(!o)for(var s=0;s<r;s++)a.array[s]=void 0;return i&&(a.array[r]=i),a},vt.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r,i=n-1>>>t&y;if(i>=this.array.length)return this;if(t>0){var o=this.array[i];if((r=o&&o.removeAfter(e,t-h,n))===o&&i===this.array.length-1)return this}var c=Et(this,e);return c.array.splice(i+1),r&&(c.array[i]=r),c};var yt,St,wt={};function gt(e,t){var n=e._origin,r=e._capacity,i=Ot(r),o=e._tail;return c(e._root,e._level,0);function c(e,a,s){return 0===a?function(e,c){var a=c===i?o&&o.array:e&&e.array,s=c>n?0:n-c,u=r-c;return u>v&&(u=v),function(){if(s===u)return wt;var e=t?--u:s++;return a&&a[e]}}(e,s):function(e,i,o){var a,s=e&&e.array,u=o>n?0:n-o>>i,l=1+(r-o>>i);return l>v&&(l=v),function(){for(;;){if(a){var e=a();if(e!==wt)return e;a=null}if(u===l)return wt;var n=t?--l:u++;a=c(s&&s[n],i-h,o+(n<<i))}}}(e,a,s)}}function mt(e,t,n,r,i,o,c){var a=Object.create(ht);return a.size=t-e,a._origin=e,a._capacity=t,a._level=n,a._root=r,a._tail=i,a.__ownerID=o,a.__hash=c,a.__altered=!1,a}function It(){return yt||(yt=mt(0,0,h))}function Tt(e,t,n,r,i,o){var c,a=r>>>n&y,s=e&&a<e.array.length;if(!s&&void 0===i)return e;if(n>0){var u=e&&e.array[a],l=Tt(u,t,n-h,r,i,o);return l===u?e:((c=Et(e,t)).array[a]=l,c)}return s&&e.array[a]===i?e:(I(o),c=Et(e,t),void 0===i&&a===c.array.length-1?c.array.pop():c.array[a]=i,c)}function Et(e,t){return t&&e&&t===e.ownerID?e:new vt(e?e.array.slice():[],t)}function bt(e,t){if(t>=Ot(e._capacity))return e._tail;if(t<1<<e._level+h){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&y],r-=h;return n}}function At(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new T,i=e._origin,o=e._capacity,c=i+t,a=void 0===n?o:n<0?o+n:i+n;if(c===i&&a===o)return e;if(c>=a)return e.clear();for(var s=e._level,u=e._root,l=0;c+l<0;)u=new vt(u&&u.array.length?[void 0,u]:[],r),l+=1<<(s+=h);l&&(c+=l,i+=l,a+=l,o+=l);for(var d=Ot(o),f=Ot(a);f>=1<<s+h;)u=new vt(u&&u.array.length?[u]:[],r),s+=h;var _=e._tail,p=f<d?bt(e,a-1):f>d?new vt([],r):_;if(_&&f>d&&c<o&&_.array.length){for(var v=u=Et(u,r),S=s;S>h;S-=h){var w=d>>>S&y;v=v.array[w]=Et(v.array[w],r)}v.array[d>>>h&y]=_}if(a<o&&(p=p&&p.removeAfter(r,0,a)),c>=f)c-=f,a-=f,s=h,u=null,p=p&&p.removeBefore(r,0,c);else if(c>i||f<d){for(l=0;u;){var g=c>>>s&y;if(g!==f>>>s&y)break;g&&(l+=(1<<s)*g),s-=h,u=u.array[g]}u&&c>i&&(u=u.removeBefore(r,s,c-l)),u&&f<d&&(u=u.removeAfter(r,s,f-l)),l&&(c-=l,a-=l)}return e.__ownerID?(e.size=a-c,e._origin=c,e._capacity=a,e._level=s,e._root=u,e._tail=p,e.__hash=void 0,e.__altered=!0,e):mt(c,a,s,u,p)}function Ct(e,t,n){for(var r=[],o=0,a=0;a<n.length;a++){var s=n[a],u=i(s);u.size>o&&(o=u.size),c(s)||(u=u.map(function(e){return de(e)})),r.push(u)}return o>e.size&&(e=e.setSize(o)),ct(e,t,r)}function Ot(e){return e<v?0:e-1>>>h<<h}function Dt(e){return null===e||void 0===e?kt():Rt(e)?e:kt().withMutations(function(t){var n=r(e);Ue(n.size),n.forEach(function(e,n){return t.set(n,e)})})}function Rt(e){return Be(e)&&l(e)}function Nt(e,t,n,r){var i=Object.create(Dt.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=n,i.__hash=r,i}function kt(){return St||(St=Nt(Ze(),It()))}function Pt(e,t,n){var r,i,o=e._map,c=e._list,a=o.get(t),s=void 0!==a;if(n===S){if(!s)return e;c.size>=v&&c.size>=2*o.size?(i=c.filter(function(e,t){return void 0!==e&&a!==t}),r=i.toKeyedSeq().map(function(e){return e[0]}).flip().toMap(),e.__ownerID&&(r.__ownerID=i.__ownerID=e.__ownerID)):(r=o.remove(t),i=a===c.size-1?c.pop():c.set(a,void 0))}else if(s){if(n===c.get(a)[1])return e;r=o,i=c.set(a,[t,n])}else r=o.set(t,c.size),i=c.set(c.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=i,e.__hash=void 0,e):Nt(r,i)}function Lt(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function jt(e){this._iter=e,this.size=e.size}function Mt(e){this._iter=e,this.size=e.size}function Ut(e){this._iter=e,this.size=e.size}function xt(e){var t=Qt(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=en,t.__iterateUncached=function(t,n){var r=this;return e.__iterate(function(e,n){return!1!==t(n,e,r)},n)},t.__iteratorUncached=function(t,n){if(t===L){var r=e.__iterator(t,n);return new x(function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e})}return e.__iterator(t===P?k:P,n)},t}function Bt(e,t,n){var r=Qt(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,i){var o=e.get(r,S);return o===S?i:t.call(n,o,r,e)},r.__iterateUncached=function(r,i){var o=this;return e.__iterate(function(e,i,c){return!1!==r(t.call(n,e,i,c),i,o)},i)},r.__iteratorUncached=function(r,i){var o=e.__iterator(L,i);return new x(function(){var i=o.next();if(i.done)return i;var c=i.value,a=c[0];return B(r,a,t.call(n,c[1],a,e),i)})},r}function zt(e,t){var n=Qt(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=xt(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=en,n.__iterate=function(t,n){var r=this;return e.__iterate(function(e,n){return t(e,n,r)},!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function Ft(e,t,n,r){var i=Qt(e);return r&&(i.has=function(r){var i=e.get(r,S);return i!==S&&!!t.call(n,i,r,e)},i.get=function(r,i){var o=e.get(r,S);return o!==S&&t.call(n,o,r,e)?o:i}),i.__iterateUncached=function(i,o){var c=this,a=0;return e.__iterate(function(e,o,s){if(t.call(n,e,o,s))return a++,i(e,r?o:a-1,c)},o),a},i.__iteratorUncached=function(i,o){var c=e.__iterator(L,o),a=0;return new x(function(){for(;;){var o=c.next();if(o.done)return o;var s=o.value,u=s[0],l=s[1];if(t.call(n,l,u,e))return B(i,r?u:a++,l,o)}})},i}function Wt(e,t,n,r){var i=e.size;if(void 0!==t&&(t|=0),void 0!==n&&(n===1/0?n=i:n|=0),O(t,n,i))return e;var o=D(t,i),c=R(n,i);if(o!==o||c!==c)return Wt(e.toSeq().cacheResult(),t,n,r);var a,s=c-o;s===s&&(a=s<0?0:s);var u=Qt(e);return u.size=0===a?a:e.size&&a||void 0,!r&&ie(e)&&a>=0&&(u.get=function(t,n){return(t=A(this,t))>=0&&t<a?e.get(t+o,n):n}),u.__iterateUncached=function(t,n){var i=this;if(0===a)return 0;if(n)return this.cacheResult().__iterate(t,n);var c=0,s=!0,u=0;return e.__iterate(function(e,n){if(!s||!(s=c++<o))return u++,!1!==t(e,r?n:u-1,i)&&u!==a}),u},u.__iteratorUncached=function(t,n){if(0!==a&&n)return this.cacheResult().__iterator(t,n);var i=0!==a&&e.__iterator(t,n),c=0,s=0;return new x(function(){for(;c++<o;)i.next();if(++s>a)return{value:void 0,done:!0};var e=i.next();return r||t===P?e:B(t,s-1,t===k?void 0:e.value[1],e)})},u}function Gt(e,t,n,r){var i=Qt(e);return i.__iterateUncached=function(i,o){var c=this;if(o)return this.cacheResult().__iterate(i,o);var a=!0,s=0;return e.__iterate(function(e,o,u){if(!a||!(a=t.call(n,e,o,u)))return s++,i(e,r?o:s-1,c)}),s},i.__iteratorUncached=function(i,o){var c=this;if(o)return this.cacheResult().__iterator(i,o);var a=e.__iterator(L,o),s=!0,u=0;return new x(function(){var e,o,l;do{if((e=a.next()).done)return r||i===P?e:B(i,u++,i===k?void 0:e.value[1],e);var d=e.value;o=d[0],l=d[1],s&&(s=t.call(n,l,o,c))}while(s);return i===L?e:B(i,o,l,e)})},i}function Ht(e,t,n){var r=Qt(e);return r.__iterateUncached=function(r,i){var o=0,a=!1;return function e(s,u){var l=this;s.__iterate(function(i,s){return(!t||u<t)&&c(i)?e(i,u+1):!1===r(i,n?s:o++,l)&&(a=!0),!a},i)}(e,0),o},r.__iteratorUncached=function(r,i){var o=e.__iterator(r,i),a=[],s=0;return new x(function(){for(;o;){var e=o.next();if(!1===e.done){var u=e.value;if(r===L&&(u=u[1]),t&&!(a.length<t)||!c(u))return n?e:B(r,s++,u,e);a.push(o),o=u.__iterator(r,i)}else o=a.pop()}return{value:void 0,done:!0}})},r}function Vt(e,t,n){t||(t=tn);var r=a(e),i=0,o=e.toSeq().map(function(t,r){return[r,t,i++,n?n(t,r,e):t]}).toArray();return o.sort(function(e,n){return t(e[3],n[3])||e[2]-n[2]}).forEach(r?function(e,t){o[t].length=2}:function(e,t){o[t]=e[1]}),r?$(o):s(e)?q(o):K(o)}function Yt(e,t,n){if(t||(t=tn),n){var r=e.toSeq().map(function(t,r){return[t,n(t,r,e)]}).reduce(function(e,n){return $t(t,e[1],n[1])?n:e});return r&&r[0]}return e.reduce(function(e,n){return $t(t,e,n)?n:e})}function $t(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(void 0===n||null===n||n!==n)||r>0}function qt(e,t,r){var i=Qt(e);return i.size=new ee(r).map(function(e){return e.size}).min(),i.__iterate=function(e,t){for(var n,r=this.__iterator(P,t),i=0;!(n=r.next()).done&&!1!==e(n.value,i++,this););return i},i.__iteratorUncached=function(e,i){var o=r.map(function(e){return e=n(e),G(i?e.reverse():e)}),c=0,a=!1;return new x(function(){var n;return a||(n=o.map(function(e){return e.next()}),a=n.some(function(e){return e.done})),a?{value:void 0,done:!0}:B(e,c++,t.apply(null,n.map(function(e){return e.value})))})},i}function Kt(e,t){return ie(e)?t:e.constructor(t)}function Jt(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function Xt(e){return Ue(e.size),b(e)}function Zt(e){return a(e)?r:s(e)?i:o}function Qt(e){return Object.create((a(e)?$:s(e)?q:K).prototype)}function en(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Y.prototype.cacheResult.call(this)}function tn(e,t){return e>t?1:e<t?-1:0}function nn(e){var t=G(e);if(!t){if(!V(e))throw new TypeError("Expected iterable or array-like: "+e);t=G(n(e))}return t}function rn(e,t){var n,r=function(o){if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var c=Object.keys(e);!function(e,t){try{t.forEach(function(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){ye(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}.bind(void 0,e))}catch(n){}}(i,c),i.size=c.length,i._name=t,i._keys=c,i._defaultValues=e}this._map=xe(o)},i=r.prototype=Object.create(on);return i.constructor=r,r}t(Dt,xe),Dt.of=function(){return this(arguments)},Dt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Dt.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},Dt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):kt()},Dt.prototype.set=function(e,t){return Pt(this,e,t)},Dt.prototype.remove=function(e){return Pt(this,e,S)},Dt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Dt.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate(function(t){return t&&e(t[1],t[0],n)},t)},Dt.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},Dt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?Nt(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},Dt.isOrderedMap=Rt,Dt.prototype[p]=!0,Dt.prototype.delete=Dt.prototype.remove,t(Lt,$),Lt.prototype.get=function(e,t){return this._iter.get(e,t)},Lt.prototype.has=function(e){return this._iter.has(e)},Lt.prototype.valueSeq=function(){return this._iter.valueSeq()},Lt.prototype.reverse=function(){var e=this,t=zt(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},Lt.prototype.map=function(e,t){var n=this,r=Bt(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},Lt.prototype.__iterate=function(e,t){var n,r=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,r)}:(n=t?Xt(this):0,function(i){return e(i,t?--n:n++,r)}),t)},Lt.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(P,t),r=t?Xt(this):0;return new x(function(){var i=n.next();return i.done?i:B(e,t?--r:r++,i.value,i)})},Lt.prototype[p]=!0,t(jt,q),jt.prototype.includes=function(e){return this._iter.includes(e)},jt.prototype.__iterate=function(e,t){var n=this,r=0;return this._iter.__iterate(function(t){return e(t,r++,n)},t)},jt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(P,t),r=0;return new x(function(){var t=n.next();return t.done?t:B(e,r++,t.value,t)})},t(Mt,K),Mt.prototype.has=function(e){return this._iter.includes(e)},Mt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){return e(t,t,n)},t)},Mt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(P,t);return new x(function(){var t=n.next();return t.done?t:B(e,t.value,t.value,t)})},t(Ut,$),Ut.prototype.entrySeq=function(){return this._iter.toSeq()},Ut.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){if(t){Jt(t);var r=c(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}},t)},Ut.prototype.__iterator=function(e,t){var n=this._iter.__iterator(P,t);return new x(function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){Jt(r);var i=c(r);return B(e,i?r.get(0):r[0],i?r.get(1):r[1],t)}}})},jt.prototype.cacheResult=Lt.prototype.cacheResult=Mt.prototype.cacheResult=Ut.prototype.cacheResult=en,t(rn,ge),rn.prototype.toString=function(){return this.__toString(an(this)+" {","}")},rn.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},rn.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},rn.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=cn(this,Ze()))},rn.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+an(this));if(this._map&&!this._map.has(e)){var n=this._defaultValues[e];if(t===n)return this}var r=this._map&&this._map.set(e,t);return this.__ownerID||r===this._map?this:cn(this,r)},rn.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:cn(this,t)},rn.prototype.wasAltered=function(){return this._map.wasAltered()},rn.prototype.__iterator=function(e,t){var n=this;return r(this._defaultValues).map(function(e,t){return n.get(t)}).__iterator(e,t)},rn.prototype.__iterate=function(e,t){var n=this;return r(this._defaultValues).map(function(e,t){return n.get(t)}).__iterate(e,t)},rn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?cn(this,t,e):(this.__ownerID=e,this._map=t,this)};var on=rn.prototype;function cn(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function an(e){return e._name||e.constructor.name||"Record"}function sn(e){return null===e||void 0===e?hn():un(e)&&!l(e)?e:hn().withMutations(function(t){var n=o(e);Ue(n.size),n.forEach(function(e){return t.add(e)})})}function un(e){return!(!e||!e[dn])}on.delete=on.remove,on.deleteIn=on.removeIn=We.removeIn,on.merge=We.merge,on.mergeWith=We.mergeWith,on.mergeIn=We.mergeIn,on.mergeDeep=We.mergeDeep,on.mergeDeepWith=We.mergeDeepWith,on.mergeDeepIn=We.mergeDeepIn,on.setIn=We.setIn,on.update=We.update,on.updateIn=We.updateIn,on.withMutations=We.withMutations,on.asMutable=We.asMutable,on.asImmutable=We.asImmutable,t(sn,Ie),sn.of=function(){return this(arguments)},sn.fromKeys=function(e){return this(r(e).keySeq())},sn.prototype.toString=function(){return this.__toString("Set {","}")},sn.prototype.has=function(e){return this._map.has(e)},sn.prototype.add=function(e){return _n(this,this._map.set(e,!0))},sn.prototype.remove=function(e){return _n(this,this._map.remove(e))},sn.prototype.clear=function(){return _n(this,this._map.clear())},sn.prototype.union=function(){var t=e.call(arguments,0);return 0===(t=t.filter(function(e){return 0!==e.size})).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations(function(e){for(var n=0;n<t.length;n++)o(t[n]).forEach(function(t){return e.add(t)})}):this.constructor(t[0])},sn.prototype.intersect=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map(function(e){return o(e)});var n=this;return this.withMutations(function(e){n.forEach(function(n){t.every(function(e){return e.includes(n)})||e.remove(n)})})},sn.prototype.subtract=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map(function(e){return o(e)});var n=this;return this.withMutations(function(e){n.forEach(function(n){t.some(function(e){return e.includes(n)})&&e.remove(n)})})},sn.prototype.merge=function(){return this.union.apply(this,arguments)},sn.prototype.mergeWith=function(t){var n=e.call(arguments,1);return this.union.apply(this,n)},sn.prototype.sort=function(e){return vn(Vt(this,e))},sn.prototype.sortBy=function(e,t){return vn(Vt(this,t,e))},sn.prototype.wasAltered=function(){return this._map.wasAltered()},sn.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate(function(t,r){return e(r,r,n)},t)},sn.prototype.__iterator=function(e,t){return this._map.map(function(e,t){return t}).__iterator(e,t)},sn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},sn.isSet=un;var ln,dn="@@__IMMUTABLE_SET__@@",fn=sn.prototype;function _n(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function pn(e,t){var n=Object.create(fn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function hn(){return ln||(ln=pn(Ze()))}function vn(e){return null===e||void 0===e?mn():yn(e)?e:mn().withMutations(function(t){var n=o(e);Ue(n.size),n.forEach(function(e){return t.add(e)})})}function yn(e){return un(e)&&l(e)}fn[dn]=!0,fn.delete=fn.remove,fn.mergeDeep=fn.merge,fn.mergeDeepWith=fn.mergeWith,fn.withMutations=We.withMutations,fn.asMutable=We.asMutable,fn.asImmutable=We.asImmutable,fn.__empty=hn,fn.__make=pn,t(vn,sn),vn.of=function(){return this(arguments)},vn.fromKeys=function(e){return this(r(e).keySeq())},vn.prototype.toString=function(){return this.__toString("OrderedSet {","}")},vn.isOrderedSet=yn;var Sn,wn=vn.prototype;function gn(e,t){var n=Object.create(wn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function mn(){return Sn||(Sn=gn(kt()))}function In(e){return null===e||void 0===e?On():Tn(e)?e:On().unshiftAll(e)}function Tn(e){return!(!e||!e[bn])}wn[p]=!0,wn.__empty=mn,wn.__make=gn,t(In,me),In.of=function(){return this(arguments)},In.prototype.toString=function(){return this.__toString("Stack [","]")},In.prototype.get=function(e,t){var n=this._head;for(e=A(this,e);n&&e--;)n=n.next;return n?n.value:t},In.prototype.peek=function(){return this._head&&this._head.value},In.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):Cn(e,t)},In.prototype.pushAll=function(e){if(0===(e=i(e)).size)return this;Ue(e.size);var t=this.size,n=this._head;return e.reverse().forEach(function(e){t++,n={value:e,next:n}}),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):Cn(t,n)},In.prototype.pop=function(){return this.slice(1)},In.prototype.unshift=function(){return this.push.apply(this,arguments)},In.prototype.unshiftAll=function(e){return this.pushAll(e)},In.prototype.shift=function(){return this.pop.apply(this,arguments)},In.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):On()},In.prototype.slice=function(e,t){if(O(e,t,this.size))return this;var n=D(e,this.size),r=R(t,this.size);if(r!==this.size)return me.prototype.slice.call(this,e,t);for(var i=this.size-n,o=this._head;n--;)o=o.next;return this.__ownerID?(this.size=i,this._head=o,this.__hash=void 0,this.__altered=!0,this):Cn(i,o)},In.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Cn(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},In.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,r=this._head;r&&!1!==e(r.value,n++,this);)r=r.next;return n},In.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,r=this._head;return new x(function(){if(r){var t=r.value;return r=r.next,B(e,n++,t)}return{value:void 0,done:!0}})},In.isStack=Tn;var En,bn="@@__IMMUTABLE_STACK__@@",An=In.prototype;function Cn(e,t,n,r){var i=Object.create(An);return i.size=e,i._head=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function On(){return En||(En=Cn(0))}function Dn(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}An[bn]=!0,An.withMutations=We.withMutations,An.asMutable=We.asMutable,An.asImmutable=We.asImmutable,An.wasAltered=We.wasAltered,n.Iterator=x,Dn(n,{toArray:function(){Ue(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate(function(t,n){e[n]=t}),e},toIndexedSeq:function(){return new jt(this)},toJS:function(){return this.toSeq().map(function(e){return e&&"function"===typeof e.toJS?e.toJS():e}).__toJS()},toJSON:function(){return this.toSeq().map(function(e){return e&&"function"===typeof e.toJSON?e.toJSON():e}).__toJS()},toKeyedSeq:function(){return new Lt(this,!0)},toMap:function(){return xe(this.toKeyedSeq())},toObject:function(){Ue(this.size);var e={};return this.__iterate(function(t,n){e[n]=t}),e},toOrderedMap:function(){return Dt(this.toKeyedSeq())},toOrderedSet:function(){return vn(a(this)?this.valueSeq():this)},toSet:function(){return sn(a(this)?this.valueSeq():this)},toSetSeq:function(){return new Mt(this)},toSeq:function(){return s(this)?this.toIndexedSeq():a(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return In(a(this)?this.valueSeq():this)},toList:function(){return ft(a(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){var t=e.call(arguments,0);return Kt(this,function(e,t){var n=a(e),i=[e].concat(t).map(function(e){return c(e)?n&&(e=r(e)):e=n?ce(e):ae(Array.isArray(e)?e:[e]),e}).filter(function(e){return 0!==e.size});if(0===i.length)return e;if(1===i.length){var o=i[0];if(o===e||n&&a(o)||s(e)&&s(o))return o}var u=new ee(i);return n?u=u.toKeyedSeq():s(e)||(u=u.toSetSeq()),(u=u.flatten(!0)).size=i.reduce(function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}},0),u}(this,t))},includes:function(e){return this.some(function(t){return pe(t,e)})},entries:function(){return this.__iterator(L)},every:function(e,t){Ue(this.size);var n=!0;return this.__iterate(function(r,i,o){if(!e.call(t,r,i,o))return n=!1,!1}),n},filter:function(e,t){return Kt(this,Ft(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},forEach:function(e,t){return Ue(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){Ue(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate(function(r){n?n=!1:t+=e,t+=null!==r&&void 0!==r?r.toString():""}),t},keys:function(){return this.__iterator(k)},map:function(e,t){return Kt(this,Bt(this,e,t))},reduce:function(e,t,n){var r,i;return Ue(this.size),arguments.length<2?i=!0:r=t,this.__iterate(function(t,o,c){i?(i=!1,r=t):r=e.call(n,r,t,o,c)}),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return Kt(this,zt(this,!0))},slice:function(e,t){return Kt(this,Wt(this,e,t,!0))},some:function(e,t){return!this.every(Ln(e),t)},sort:function(e){return Kt(this,Vt(this,e))},values:function(){return this.__iterator(P)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(e,t){return b(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function(e,t,n){var r=xe().asMutable();return e.__iterate(function(i,o){r.update(t.call(n,i,o,e),0,function(e){return e+1})}),r.asImmutable()}(this,e,t)},equals:function(e){return he(this,e)},entrySeq:function(){var e=this;if(e._cache)return new ee(e._cache);var t=e.toSeq().map(Pn).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(Ln(e),t)},findEntry:function(e,t,n){var r=n;return this.__iterate(function(n,i,o){if(e.call(t,n,i,o))return r=[i,n],!1}),r},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},findLastEntry:function(e,t,n){return this.toKeyedSeq().reverse().findEntry(e,t,n)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(){return this.find(C)},flatMap:function(e,t){return Kt(this,function(e,t,n){var r=Zt(e);return e.toSeq().map(function(i,o){return r(t.call(n,i,o,e))}).flatten(!0)}(this,e,t))},flatten:function(e){return Kt(this,Ht(this,e,!0))},fromEntrySeq:function(){return new Ut(this)},get:function(e,t){return this.find(function(t,n){return pe(n,e)},void 0,t)},getIn:function(e,t){for(var n,r=this,i=nn(e);!(n=i.next()).done;){var o=n.value;if((r=r&&r.get?r.get(o,S):S)===S)return t}return r},groupBy:function(e,t){return function(e,t,n){var r=a(e),i=(l(e)?Dt():xe()).asMutable();e.__iterate(function(o,c){i.update(t.call(n,o,c,e),function(e){return(e=e||[]).push(r?[c,o]:o),e})});var o=Zt(e);return i.map(function(t){return Kt(e,o(t))})}(this,e,t)},has:function(e){return this.get(e,S)!==S},hasIn:function(e){return this.getIn(e,S)!==S},isSubset:function(e){return e="function"===typeof e.includes?e:n(e),this.every(function(t){return e.includes(t)})},isSuperset:function(e){return(e="function"===typeof e.isSubset?e:n(e)).isSubset(this)},keyOf:function(e){return this.findKey(function(t){return pe(t,e)})},keySeq:function(){return this.toSeq().map(kn).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return Yt(this,e)},maxBy:function(e,t){return Yt(this,t,e)},min:function(e){return Yt(this,e?jn(e):xn)},minBy:function(e,t){return Yt(this,t?jn(t):xn,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return Kt(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return Kt(this,Gt(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(Ln(e),t)},sortBy:function(e,t){return Kt(this,Vt(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return Kt(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return Kt(this,function(e,t,n){var r=Qt(e);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var c=0;return e.__iterate(function(e,i,a){return t.call(n,e,i,a)&&++c&&r(e,i,o)}),c},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var c=e.__iterator(L,i),a=!0;return new x(function(){if(!a)return{value:void 0,done:!0};var e=c.next();if(e.done)return e;var i=e.value,s=i[0],u=i[1];return t.call(n,u,s,o)?r===L?e:B(r,s,u,e):(a=!1,{value:void 0,done:!0})})},r}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(Ln(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(e){if(e.size===1/0)return 0;var t=l(e),n=a(e),r=t?1:0;return function(e,t){return t=Te(t,3432918353),t=Te(t<<15|t>>>-15,461845907),t=Te(t<<13|t>>>-13,5),t=Te((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=Ee((t=Te(t^t>>>13,3266489909))^t>>>16)}(e.__iterate(n?t?function(e,t){r=31*r+Bn(be(e),be(t))|0}:function(e,t){r=r+Bn(be(e),be(t))|0}:t?function(e){r=31*r+be(e)|0}:function(e){r=r+be(e)|0}),r)}(this))}});var Rn=n.prototype;Rn[d]=!0,Rn[U]=Rn.values,Rn.__toJS=Rn.toArray,Rn.__toStringMapper=Mn,Rn.inspect=Rn.toSource=function(){return this.toString()},Rn.chain=Rn.flatMap,Rn.contains=Rn.includes,Dn(r,{flip:function(){return Kt(this,xt(this))},mapEntries:function(e,t){var n=this,r=0;return Kt(this,this.toSeq().map(function(i,o){return e.call(t,[o,i],r++,n)}).fromEntrySeq())},mapKeys:function(e,t){var n=this;return Kt(this,this.toSeq().flip().map(function(r,i){return e.call(t,r,i,n)}).flip())}});var Nn=r.prototype;function kn(e,t){return t}function Pn(e,t){return[t,e]}function Ln(e){return function(){return!e.apply(this,arguments)}}function jn(e){return function(){return-e.apply(this,arguments)}}function Mn(e){return"string"===typeof e?JSON.stringify(e):String(e)}function Un(){return E(arguments)}function xn(e,t){return e<t?1:e>t?-1:0}function Bn(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}return Nn[f]=!0,Nn[U]=Rn.entries,Nn.__toJS=Rn.toObject,Nn.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+Mn(e)},Dn(i,{toKeyedSeq:function(){return new Lt(this,!1)},filter:function(e,t){return Kt(this,Ft(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return Kt(this,zt(this,!1))},slice:function(e,t){return Kt(this,Wt(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=D(e,e<0?this.count():this.size);var r=this.slice(0,e);return Kt(this,1===n?r:r.concat(E(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.findLastEntry(e,t);return n?n[0]:-1},first:function(){return this.get(0)},flatten:function(e){return Kt(this,Ht(this,e,!1))},get:function(e,t){return(e=A(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find(function(t,n){return n===e},void 0,t)},has:function(e){return(e=A(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return Kt(this,function(e,t){var n=Qt(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return e.__iterate(function(e,r){return(!o||!1!==n(t,o++,i))&&!1!==n(e,o++,i)},r),o},n.__iteratorUncached=function(n,r){var i,o=e.__iterator(P,r),c=0;return new x(function(){return(!i||c%2)&&(i=o.next()).done?i:c%2?B(n,c++,t):B(n,c++,i.value,i)})},n}(this,e))},interleave:function(){var e=[this].concat(E(arguments)),t=qt(this.toSeq(),q.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),Kt(this,n)},keySeq:function(){return Se(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(e,t){return Kt(this,Gt(this,e,t,!1))},zip:function(){return Kt(this,qt(this,Un,[this].concat(E(arguments))))},zipWith:function(e){var t=E(arguments);return t[0]=this,Kt(this,qt(this,e,t))}}),i.prototype[_]=!0,i.prototype[p]=!0,Dn(o,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),o.prototype.has=Rn.includes,o.prototype.contains=o.prototype.includes,Dn($,r.prototype),Dn(q,i.prototype),Dn(K,o.prototype),Dn(ge,r.prototype),Dn(me,i.prototype),Dn(Ie,o.prototype),{Iterable:n,Seq:Y,Collection:we,Map:xe,OrderedMap:Dt,List:ft,Stack:In,Set:sn,OrderedSet:vn,Record:rn,Range:Se,Repeat:ve,is:pe,fromJS:de}}()},141:function(e,t,n){"use strict";n.r(t),n.d(t,"actionTypes",function(){return r});var r={INITIALIZE:"INITIALIZE",SET_AVAILABLE_CREDITS:"SET_AVAILABLE_CREDITS",SET_AGREEMENTS:"SET_AGREEMENTS",LOAD_SUBSCRIPTION:"LOAD_SUBSCRIPTION",SELECT_AGREEMENT_TYPE:"SELECT_AGREEMENT_TYPE",SET_SELECTED_ACCOUNT:"SET_SELECTED_ACCOUNT",SET_DISPLAY_ERROR:"SET_DISPLAY_ERROR",SET_LICENSES:"SET_LICENSES",SET_TOASTER:"SET_TOASTER",CHECK_LICENSE:"CHECK_LICENSE",SELECT_ASSET_SIZE:"SELECT_ASSET_SIZE",SET_CTA_IN_PROGRESS:"SET_CTA_IN_PROGRESS",SELECT_PRICING_CLARITY_OPTION_TOGGLE:"SELECT_PRICING_CLARITY_OPTION_TOGGLE",GO_TO_BEGINNING:"GO_TO_BEGINNING",CANCEL_AND_BACK_TO_BEGINING:"CANCEL_AND_BACK_TO_BEGINING",GO_TO_FREE_ADMIN_DOWNLOAD:"GO_TO_FREE_ADMIN_DOWNLOAD",GO_TO_CONFIRM_DOWNLOAD:"GO_TO_CONFIRM_DOWNLOAD",GO_TO_COMPLETE_DOWNLOAD:"GO_TO_COMPLETE_DOWNLOAD",GO_TO_NEXT_STEP:"GO_TO_NEXT_STEP",FETCH_USER_AGREEMENT_OVERVIEW_RESPONDED:"FETCH_USER_AGREEMENT_OVERVIEW_RESPONDED",SET_REDIRECT_BEFORE_INITIATING_DOWNLOAD:"SET_REDIRECT_BEFORE_INITIATING_DOWNLOAD",POST_ASSET_TO_CREATE_DOWNLOAD:"POST_ASSET_TO_CREATE_DOWNLOAD",REDIRECT_TO_URL:"REDIRECT_TO_URL",SET_DOWNLOAD_DATA:"SET_DOWNLOAD_DATA",SELECT_ACCOUNT_STEP:"SELECT_ACCOUNT_STEP",CONFIRM_DOWNLOAD_STEP:"CONFIRM_DOWNLOAD_STEP",GO_TO_INITIATE_DOWNLOAD_AND_SELECT_LICENSES_STEP:"GO_TO_INITIATE_DOWNLOAD_AND_SELECT_LICENSES_STEP",SET_SPECTRUM_DOWNLOADED_ASSET_ID:"SET_SPECTRUM_DOWNLOADED_ASSET_ID"};window.IStockDownload.factory("actionTypes",function(){return r}),t.default=r},142:function(e,t,n){"use strict";n.r(t),n.d(t,"hasBlockedSubscription",function(){return i});var r=n(17);function i(e){if(e.subscription){switch(e.subscription.status){case r.default.paused:case r.default.suspended:return!0}return!1}}t.default=i},143:function(e,t,n){"use strict";n.r(t),n.d(t,"byStatus",function(){return o}),n.d(t,"paused",function(){return c}),n.d(t,"subscriptionBlockedReason",function(){return a}),n.d(t,"suspended",function(){return s});var r=n(17),i=n(203),o={};function c(e,t,n){return{additionalInfoHtml:t("it_will_automatically_resume_on",{zero:"<strong>",resumeDate:n(new Date(e.subscription.resumed_date),"longDate","UTC"),one:"</strong>"}),reasonForBox:t("your_subscription_paused"),warningCta:Object(i.default)(t)}}function a(e,t,n){if(e.subscription){var r=o[e.subscription.status];return r?r(e,t,n):null}}function s(e,t,n){return{additionalInfoHtml:t("download_subscription_phone",{phoneNumber:e.calc.localePhoneNumber}),reasonForBox:t("your_subscription_suspended")}}o[r.default.suspended]=s,o[r.default.paused]=c,t.default=a},17:function(e,t,n){"use strict";n.r(t),n.d(t,"subscriptionStatus",function(){return r});var r=Object.freeze({active:"Active",cancelled:"Cancelled",expired:"Expired",paused:"Paused",pending:"Pending",suspended:"Suspended"});t.default=r},185:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},199:function(e,t,n){"use strict";(function(e,n){(function(t){var r="object"==typeof e&&e&&e.Object===Object&&e,i="object"==typeof self&&self&&self.Object===Object&&self,o=(r||i||Function("return this")()).Symbol,c=Object.prototype,a=c.hasOwnProperty,s=c.toString,u=o?o.toStringTag:void 0,l=Object.prototype.toString,d="[object Null]",f="[object Undefined]",_=o?o.toStringTag:void 0;function p(e){return null==e?void 0===e?f:d:_&&_ in Object(e)?function(e){var t=a.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(o){}var i=s.call(e);return r&&(t?e[u]=n:delete e[u]),i}(e):function(e){return l.call(e)}(e)}var h,v,y=(h=Object.getPrototypeOf,v=Object,function(e){return h(v(e))}),S="[object Object]",w=Function.prototype,g=Object.prototype,m=w.toString,I=g.hasOwnProperty,T=m.call(Object);function E(e){if(!function(e){return null!=e&&"object"==typeof e}(e)||p(e)!=S)return!1;var t=y(e);if(null===t)return!0;var n=I.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&m.call(n)==T}var b=function(e){var t,n=e.Symbol;return"function"===typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}("undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof e?e:n),A={INIT:"@@redux/INIT"};function C(e){"undefined"!==typeof console&&"function"===typeof console.error&&console.error(e);try{throw new Error(e)}catch(t){}}function O(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function D(e,t){return function(){return t(e.apply(void 0,arguments))}}function R(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}var N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function k(){}"string"===typeof k.name&&k.name,t.createStore=function e(t,n,r){var i;if("function"===typeof n&&"undefined"===typeof r&&(r=n,n=void 0),"undefined"!==typeof r){if("function"!==typeof r)throw new Error("Expected the enhancer to be a function.");return r(e)(t,n)}if("function"!==typeof t)throw new Error("Expected the reducer to be a function.");var o=t,c=n,a=[],s=a,u=!1;function l(){s===a&&(s=a.slice())}function d(){return c}function f(e){if("function"!==typeof e)throw new Error("Expected listener to be a function.");var t=!0;return l(),s.push(e),function(){if(t){t=!1,l();var n=s.indexOf(e);s.splice(n,1)}}}function _(e){if(!E(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,c=o(c,e)}finally{u=!1}for(var t=a=s,n=0;n<t.length;n++)(0,t[n])();return e}return _({type:A.INIT}),(i={dispatch:_,subscribe:f,getState:d,replaceReducer:function(e){if("function"!==typeof e)throw new Error("Expected the nextReducer to be a function.");o=e,_({type:A.INIT})}})[b]=function(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(d())}return n(),{unsubscribe:t(n)}}})[b]=function(){return this},e},i},t.combineReducers=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];"undefined"===typeof e[i]&&C('No reducer provided for key "'+i+'"'),"function"===typeof e[i]&&(n[i]=e[i])}var o,c=Object.keys(n);o={};var a=void 0;try{!function(e){Object.keys(e).forEach(function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:A.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if("undefined"===typeof n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+A.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(n)}catch(s){a=s}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(a)throw a;var r=function(e,t,n,r){var i=Object.keys(t),o=n&&n.type===A.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(0===i.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!E(e))return"The "+o+' has unexpected type of "'+{}.toString.call(e).match(/\s([a-z|A-Z]+)/)[1]+'". Expected argument to be an object with the following keys: "'+i.join('", "')+'"';var c=Object.keys(e).filter(function(e){return!t.hasOwnProperty(e)&&!r[e]});return c.forEach(function(e){r[e]=!0}),c.length>0?"Unexpected "+(c.length>1?"keys":"key")+' "'+c.join('", "')+'" found in '+o+'. Expected to find one of the known reducer keys instead: "'+i.join('", "')+'". Unexpected keys will be ignored.':void 0}(e,n,t,o);r&&C(r);for(var i=!1,s={},u=0;u<c.length;u++){var l=c[u],d=n[l],f=e[l],_=d(f,t);if("undefined"===typeof _){var p=O(l,t);throw new Error(p)}s[l]=_,i=i||_!==f}return i?s:e}},t.bindActionCreators=function(e,t){if("function"===typeof e)return D(e,t);if("object"!==typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),r={},i=0;i<n.length;i++){var o=n[i],c=e[o];"function"===typeof c&&(r[o]=D(c,t))}return r},t.applyMiddleware=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,i){var o,c=e(n,r,i),a=c.dispatch,s={getState:c.getState,dispatch:function(e){return a(e)}};return o=t.map(function(e){return e(s)}),a=R.apply(void 0,o)(c.dispatch),N({},c,{dispatch:a})}}},t.compose=R,Object.defineProperty(t,"__esModule",{value:!0})})(t)}).call(this,n(22),n(185)(e))},201:function(e,t,n){"use strict";n.r(t),n.d(t,"trackPauseViewDetailsClicked",function(){return o}),n.d(t,"trackWarningCtaClicked",function(){return c});var r=n(86),i=n(17);function o(e){window.combinedGtmTracking.gtmPushTracking("accountInteraction",{account_interaction:"Subscription_Suspended_Notification_CTA_Click",account_selection:window.tracking_data.page_name,sku:e,ui_element_location:"adp_subscription_paused_message"})}function c(e,t){if(e&&t){var n=e.sku;if(e.status===i.default.paused)switch(t.name){case r.default.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_BLOCKED_SUBSCRIPTION:case r.default.CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_BLOCKED_SUBSCRIPTION_EXISTS:o(n)}}}t.default=c},202:function(e,t,n){"use strict";n.r(t),n.d(t,"trackCloseSubscriptionPausedMessage",function(){return o}),n.d(t,"trackCloseDownloadErrorMessage",function(){return c});var r=n(86),i=n(17);function o(e){window.combinedGtmTracking.gtmPushTracking("accountInteraction",{account_interaction:"Subscription_Paused_Notification_Dismiss",account_selection:window.tracking_data.page_name,sku:e,ui_element_location:"adp_subscription_paused_message"})}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.subscription){var t=e.subscription.sku;if(e.subscription.status===i.default.paused)switch(((e.calc||{}).step||{}).name){case r.default.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_BLOCKED_SUBSCRIPTION:case r.default.CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_BLOCKED_SUBSCRIPTION_EXISTS:o(t)}}}t.default=c},203:function(e,t,n){"use strict";function r(e){return{text:e("view_details_cta")+" >",url:window.siteMap.cleanRelativePath("/account")}}n.r(t),n.d(t,"viewAccountDetails",function(){return r}),t.default=r},204:function(e,t,n){"use strict";n.r(t),n.d(t,"trackingByStatus",function(){return i}),n.d(t,"trackPaused",function(){return o}),n.d(t,"trackShowBlockedSubscriptionMessage",function(){return c}),n.d(t,"trackSuspended",function(){return a});var r=n(17),i={};function o(e){window.combinedGtmTracking.gtmPushTracking("accountInteraction",{account_interaction:"Subscription_Paused_Notification_Shown",account_selection:window.tracking_data.page_name,sku:e,ui_element_location:window.tracking_data.page_name})}function c(e){if(e.subscription){var t=i[e.subscription.status];if(t)t(e.subscription.sku)}}function a(e){window.combinedGtmTracking.gtmPushTracking("accountInteraction",{account_interaction:"Subscription_Suspended_Notification_Shown",account_selection:window.tracking_data.page_name,sku:e,ui_element_location:window.tracking_data.page_name})}i[r.default.suspended]=a,i[r.default.paused]=o,t.default=c},205:function(e,t,n){"use strict";n.r(t),n.d(t,"subscriptionReducer",function(){return i});var r=n(141);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.default.LOAD_SUBSCRIPTION:e=DeepRecord.fromJS(t.subscription)}return e}t.default=i},22:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},29:function(e,t,n){"use strict";function r(e){return{text:e("contact_your_administrator")}}n.r(t),n.d(t,"contactYourAdministrator",function(){return r}),t.default=r},384:function(e,t,n){"use strict";var r;r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){e.exports=n(1)},function(e,t){function n(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}t.__esModule=!0;var r=n();r.withExtraArgument=n,t.default=r}])},e.exports=r()},385:function(e,t,n){"use strict";(function(e,t){angular.module("AdpApp").requires.push("iStockDownload"),window.IStockDownload=angular.module("iStockDownload",["giTranslation","ngMessages","giTracking","giEvents","giExperiences","ngRedux"]).config(["$ngReduxProvider",function(t){var n=[e.default];return window.reduxLogger&&n.push(window.reduxLogger.createLogger({diff:!0,duration:!0,collapsed:!0,stateTransformer:function(e){return e.adp.toJS()}})),t.createStoreWith(function(e,t){return{}},n)}]).run(["$rootScope","t","$ngRedux","rootReducer",function(e,n,r,i){return e.t=n,r.replaceReducer(t.combineReducers({adp:i}))}])}).call(this,n(384),n(199))},386:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e&&"@@redux/INIT"===e.type?"initialState argument passed to createStore":"previous state received by the reducer"},e.exports=t.default},388:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.combineReducers=void 0;var r,i=n(1037),o=(r=i)&&r.__esModule?r:{default:r};t.combineReducers=o.default},86:function(e,t,n){"use strict";n.r(t),n.d(t,"stateSteps",function(){return r});var r=Object.freeze({PICK_PAYMENT_OPTION:"PICK_PAYMENT_OPTION",PICK_PRICING_CLARITY_PAYMENT_OPTION:"PICK_PRICING_CLARITY_PAYMENT_OPTION",FREE_ADMIN_DOWNLOAD:"FREE_ADMIN_DOWNLOAD",INITIATE_DOWNLOAD_AND_SELECT_LICENCES_STEP:"INITIATE_DOWNLOAD_AND_SELECT_LICENCES_STEP",PURCHASE_AND_SELECT_LICENCES_STEP:"PURCHASE_AND_SELECT_LICENCES_STEP",CONFIRM_DOWNLOAD_WITH_EXTENDED_LICENSES_PAID_BY_CREDITS:"CONFIRM_DOWNLOAD_WITH_EXTENDED_LICENSES_PAID_BY_CREDITS",CONFIRM_DOWNLOAD_BY_CREDITS_SINCE_SUBSCRIPTION_HAS_INSUFFICIENT_DOWNLOADS_REMAINING:"CONFIRM_DOWNLOAD_BY_CREDITS_SINCE_SUBSCRIPTION_HAS_INSUFFICIENT_DOWNLOADS_REMAINING",CONFIRM_DOWNLOAD_OF_SIGNATURE_IMAGE_BY_CREDITS_SINCE_SUBSCRIPTION_IS_FOR_ESSENTIALS:"CONFIRM_DOWNLOAD_OF_SIGNATURE_IMAGE_BY_CREDITS_SINCE_SUBSCRIPTION_IS_FOR_ESSENTIALS",CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_NO_SUBSCRIPTION_EXISTS:"CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_NO_SUBSCRIPTION_EXISTS",CONIFRM_DOWNLOAD_BY_CREDITS_WITH_NOTICE_THAT_FILE_UNSUPPORTED_BY_SUBSCRIPTION:"CONIFRM_DOWNLOAD_BY_CREDITS_WITH_NOTICE_THAT_FILE_UNSUPPORTED_BY_SUBSCRIPTION",CONFIRM_DOWNLOAD_BY_SUBSCRIPTION_WITH_SUFFICIENT_DOWNLOADS_REMAINING:"CONFIRM_DOWNLOAD_BY_SUBSCRIPTION_WITH_SUFFICIENT_DOWNLOADS_REMAINING",CONFIRM_DOWNLOAD_BY_SUBSCRIPTION_SINCE_INSUFFICIENT_CREDITS_REMAINING:"CONFIRM_DOWNLOAD_BY_SUBSCRIPTION_SINCE_INSUFFICIENT_CREDITS_REMAINING",CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_BLOCKED_SUBSCRIPTION_EXISTS:"CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_BLOCKED_SUBSCRIPTION_EXISTS",CONFIRM_DOWNLOAD_BY_TEAM_CREDITS:"CONFIRM_DOWNLOAD_BY_TEAM_CREDITS",CONFIRM_REDOWNLOAD_FOR_FREE:"CONFIRM_REDOWNLOAD_FOR_FREE",MUST_BUY_CREDITS_FOR_FILE_UNSUPPORTED_BY_SUBSCRIPTION:"MUST_BUY_CREDITS_FOR_FILE_UNSUPPORTED_BY_SUBSCRIPTION",MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_NO_SUBSCRIPTION:"MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_NO_SUBSCRIPTION",MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_IS_FOR_ESSENTIALS:"MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_IS_FOR_ESSENTIALS",MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_HAS_INSUFFICIENT_DOWNLOADS_REMAINING:"MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_HAS_INSUFFICIENT_DOWNLOADS_REMAINING",MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAIN_TO_BUY_EXTENDED_LICENSES:"MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAIN_TO_BUY_EXTENDED_LICENSES",MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_BLOCKED_SUBSCRIPTION:"MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_BLOCKED_SUBSCRIPTION",TEAM_MEMBER_MUST_ASK_TEAM_ADMIN_TO_GRANT_MORE_CREDITS:"TEAM_MEMBER_MUST_ASK_TEAM_ADMIN_TO_GRANT_MORE_CREDITS",COMPLETE_DOWNLOAD:"COMPLETE_DOWNLOAD",CHOOSE_ACCOUNT:"CHOOSE_ACCOUNT",TEAM_ACCOUNT_OUT_OF_CREDITS:"TEAM_ACCOUNT_OUT_OF_CREDITS",SELECT_ACCOUNT_TYPE:"SELECT_ACCOUNT_TYPE"});window.IStockDownload.factory("stateSteps",function(){return r}),t.default=r},944:function(e,t,n){"use strict";n.r(t);var r;n(199),n(945),n(384),n(140),n(385);(r=n(946)).keys().forEach(r)},945:function(e,t,n){"use strict";(function(t){var r;r=function(e){var n="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{};function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function i(e,t){return e(t={exports:{}},t.exports),t.exports}var o,c=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e},a=function(e){return Object(c(e))},s={}.hasOwnProperty,u=function(e,t){return s.call(e,t)},l={}.toString,d=function(e){return l.call(e).slice(8,-1)},f=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==d(e)?e.split(""):Object(e)},_=function(e){return f(c(e))},p=Math.ceil,h=Math.floor,v=function(e){return isNaN(e=+e)?0:(e>0?h:p)(e)},y=Math.min,S=function(e){return e>0?y(v(e),9007199254740991):0},w=Math.max,g=Math.min,m=i(function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)}),I=m["__core-js_shared__"]||(m["__core-js_shared__"]={}),T=function(e){return I[e]||(I[e]={})},E=0,b=Math.random(),A=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++E+b).toString(36))},C=T("keys"),O=function(e){return C[e]||(C[e]=A(e))},D=(o=!1,function(e,t,n){var r,i=_(e),c=S(i.length),a=function(e,t){return(e=v(e))<0?w(e+t,0):g(e,t)}(n,c);if(o&&t!=t){for(;c>a;)if((r=i[a++])!=r)return!0}else for(;c>a;a++)if((o||a in i)&&i[a]===t)return o||a||0;return!o&&-1}),R=O("IE_PROTO"),N=function(e,t){var n,r=_(e),i=0,o=[];for(n in r)n!=R&&u(r,n)&&o.push(n);for(;t.length>i;)u(r,n=t[i++])&&(~D(o,n)||o.push(n));return o},k="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),P=Object.keys||function(e){return N(e,k)},L=i(function(e){var t=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=t)}),j=(L.version,function(e,t,n){if(function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!")}(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}),M=function(e){return"object"===typeof e?null!==e:"function"===typeof e},U=function(e){if(!M(e))throw TypeError(e+" is not an object!");return e},x=function(e){try{return!!e()}catch(t){return!0}},B=!x(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),z=m.document,F=M(z)&&M(z.createElement),W=function(e){return F?z.createElement(e):{}},G=!B&&!x(function(){return 7!=Object.defineProperty(W("div"),"a",{get:function(){return 7}}).a}),H=function(e,t){if(!M(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!M(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!M(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!M(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},V=Object.defineProperty,Y={f:B?Object.defineProperty:function(e,t,n){if(U(e),t=H(t,!0),U(n),G)try{return V(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},$=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},q=B?function(e,t,n){return Y.f(e,t,$(1,n))}:function(e,t,n){return e[t]=n,e},K=function e(t,n,r){var i,o,c,a=t&e.F,s=t&e.G,u=t&e.S,l=t&e.P,d=t&e.B,f=t&e.W,_=s?L:L[n]||(L[n]={}),p=_.prototype,h=s?m:u?m[n]:(m[n]||{}).prototype;for(i in s&&(r=n),r)(o=!a&&h&&void 0!==h[i])&&i in _||(c=o?h[i]:r[i],_[i]=s&&"function"!=typeof h[i]?r[i]:d&&o?j(c,m):f&&h[i]==c?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(c):l&&"function"==typeof c?j(Function.call,c):c,l&&((_.virtual||(_.virtual={}))[i]=c,t&e.R&&p&&!p[i]&&q(p,i,c)))};K.F=1,K.G=2,K.S=4,K.P=8,K.B=16,K.W=32,K.U=64,K.R=128;var J,X,Z,Q,ee=K;J="keys",X=function(){return function(e){return P(a(e))}},Z=(L.Object||{})[J]||Object[J],(Q={})[J]=X(Z),ee(ee.S+ee.F*x(function(){Z(1)}),"Object",Q);var te=L.Object.keys,ne=r(i(function(e){e.exports={default:te,__esModule:!0}}));ee(ee.S+ee.F*!B,"Object",{defineProperty:Y.f});var re=L.Object,ie=function(e,t,n){return re.defineProperty(e,t,n)},oe=i(function(e){e.exports={default:ie,__esModule:!0}});r(oe);var ce=r(i(function(e,t){t.__esModule=!0;var n,r=(n=oe)&&n.__esModule?n:{default:n};t.default=function(e,t,n){return t in e?(0,r.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}})),ae=q,se={},ue=B?Object.defineProperties:function(e,t){U(e);for(var n,r=P(t),i=r.length,o=0;i>o;)Y.f(e,n=r[o++],t[n]);return e},le=m.document&&document.documentElement,de=O("IE_PROTO"),fe=function(){},_e=function(){var e,t=W("iframe"),n=k.length;for(t.style.display="none",le.appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),_e=e.F;n--;)delete _e.prototype[k[n]];return _e()},pe=Object.create||function(e,t){var n;return null!==e?(fe.prototype=U(e),n=new fe,fe.prototype=null,n[de]=e):n=_e(),void 0===t?n:ue(n,t)},he=i(function(e){var t=T("wks"),n=m.Symbol,r="function"==typeof n;(e.exports=function(e){return t[e]||(t[e]=r&&n[e]||(r?n:A)("Symbol."+e))}).store=t}),ve=Y.f,ye=he("toStringTag"),Se=function(e,t,n){e&&!u(e=n?e:e.prototype,ye)&&ve(e,ye,{configurable:!0,value:t})},we={};q(we,he("iterator"),function(){return this});var ge,me=function(e,t,n){e.prototype=pe(we,{next:$(1,n)}),Se(e,t+" Iterator")},Ie=O("IE_PROTO"),Te=Object.prototype,Ee=Object.getPrototypeOf||function(e){return e=a(e),u(e,Ie)?e[Ie]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Te:null},be=he("iterator"),Ae=!([].keys&&"next"in[].keys()),Ce=function(){return this},Oe=function(e,t,n,r,i,o,c){me(n,t,r);var a,s,u,l=function(e){if(!Ae&&e in p)return p[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},d=t+" Iterator",f="values"==i,_=!1,p=e.prototype,h=p[be]||p["@@iterator"]||i&&p[i],v=h||l(i),y=i?f?l("entries"):v:void 0,S="Array"==t&&p.entries||h;if(S&&(u=Ee(S.call(new e)))!==Object.prototype&&Se(u,d,!0),f&&h&&"values"!==h.name&&(_=!0,v=function(){return h.call(this)}),c&&(Ae||_||!p[be])&&q(p,be,v),se[t]=v,se[d]=Ce,i)if(a={values:f?v:l("values"),keys:o?v:l("keys"),entries:y},c)for(s in a)s in p||ae(p,s,a[s]);else ee(ee.P+ee.F*(Ae||_),t,a);return a},De=(ge=!0,function(e,t){var n,r,i=String(c(e)),o=v(t),a=i.length;return o<0||o>=a?ge?"":void 0:(n=i.charCodeAt(o))<55296||n>56319||o+1===a||(r=i.charCodeAt(o+1))<56320||r>57343?ge?i.charAt(o):n:ge?i.slice(o,o+2):r-56320+(n-55296<<10)+65536});Oe(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=De(t,n),this._i+=e.length,{value:e,done:!1})});var Re=function(e,t,n,r){try{return r?t(U(n)[0],n[1]):t(n)}catch(o){var i=e.return;throw void 0!==i&&U(i.call(e)),o}},Ne=he("iterator"),ke=Array.prototype,Pe=function(e,t,n){t in e?Y.f(e,t,$(0,n)):e[t]=n},Le=he("toStringTag"),je="Arguments"==d(function(){return arguments}()),Me=he("iterator"),Ue=L.getIteratorMethod=function(e){if(void 0!=e)return e[Me]||e["@@iterator"]||se[function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=Object(e),Le))?n:je?d(t):"Object"==(r=d(t))&&"function"==typeof t.callee?"Arguments":r}(e)]},xe=he("iterator"),Be=!1;try{[7][xe]().return=function(){Be=!0}}catch(Ur){}ee(ee.S+ee.F*!function(e,t){if(!t&&!Be)return!1;var n=!1;try{var r=[7],i=r[xe]();i.next=function(){return{done:n=!0}},r[xe]=function(){return i},e(r)}catch(Ur){}return n}(function(e){}),"Array",{from:function(e){var t,n,r,i,o,c=a(e),s="function"==typeof this?this:Array,u=arguments.length,l=u>1?arguments[1]:void 0,d=void 0!==l,f=0,_=Ue(c);if(d&&(l=j(l,u>2?arguments[2]:void 0,2)),void 0!=_&&(s!=Array||(void 0===(o=_)||se.Array!==o&&ke[Ne]!==o)))for(i=_.call(c),n=new s;!(r=i.next()).done;f++)Pe(n,f,d?Re(i,l,[r.value,f],!0):r.value);else for(n=new s(t=S(c.length));t>f;f++)Pe(n,f,d?l(c[f],f):c[f]);return n.length=f,n}});var ze=L.Array.from,Fe=i(function(e){e.exports={default:ze,__esModule:!0}});r(Fe);var We=r(i(function(e,t){t.__esModule=!0;var n,r=(n=Fe)&&n.__esModule?n:{default:n};t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,r.default)(e)}})),Ge={f:Object.getOwnPropertySymbols},He={f:{}.propertyIsEnumerable},Ve=Object.assign,Ye=!Ve||x(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=Ve({},e)[n]||Object.keys(Ve({},t)).join("")!=r})?function(e,t){for(var n=a(e),r=arguments.length,i=1,o=Ge.f,c=He.f;r>i;)for(var s,u=f(arguments[i++]),l=o?P(u).concat(o(u)):P(u),d=l.length,_=0;d>_;)c.call(u,s=l[_++])&&(n[s]=u[s]);return n}:Ve;ee(ee.S+ee.F,"Object",{assign:Ye});var $e=L.Object.assign,qe=r(i(function(e){e.exports={default:$e,__esModule:!0}})),Ke=function(e,t){return{value:t,done:!!e}};Oe(Array,"Array",function(e,t){this._t=_(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,Ke(1)):Ke(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),se.Arguments=se.Array;for(var Je=he("toStringTag"),Xe=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],Ze=0;Ze<5;Ze++){var Qe=Xe[Ze],et=m[Qe],tt=et&&et.prototype;tt&&!tt[Je]&&q(tt,Je,Qe),se[Qe]=se.Array}var nt={f:he},rt=nt.f("iterator"),it=i(function(e){e.exports={default:rt,__esModule:!0}});r(it);var ot=i(function(e){var t=A("meta"),n=Y.f,r=0,i=Object.isExtensible||function(){return!0},o=!x(function(){return i(Object.preventExtensions({}))}),c=function(e){n(e,t,{value:{i:"O"+ ++r,w:{}}})},a=e.exports={KEY:t,NEED:!1,fastKey:function(e,n){if(!M(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!u(e,t)){if(!i(e))return"F";if(!n)return"E";c(e)}return e[t].i},getWeak:function(e,n){if(!u(e,t)){if(!i(e))return!0;if(!n)return!1;c(e)}return e[t].w},onFreeze:function(e){return o&&a.NEED&&i(e)&&!u(e,t)&&c(e),e}}}),ct=(ot.KEY,ot.NEED,ot.fastKey,ot.getWeak,ot.onFreeze,Y.f),at=function(e){var t=L.Symbol||(L.Symbol={});"_"==e.charAt(0)||e in t||ct(t,e,{value:nt.f(e)})},st=Array.isArray||function(e){return"Array"==d(e)},ut=k.concat("length","prototype"),lt={f:Object.getOwnPropertyNames||function(e){return N(e,ut)}},dt=lt.f,ft={}.toString,_t="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],pt={f:function(e){return _t&&"[object Window]"==ft.call(e)?function(e){try{return dt(e)}catch(Ur){return _t.slice()}}(e):dt(_(e))}},ht=Object.getOwnPropertyDescriptor,vt={f:B?ht:function(e,t){if(e=_(e),t=H(t,!0),G)try{return ht(e,t)}catch(Ur){}if(u(e,t))return $(!He.f.call(e,t),e[t])}},yt=ot.KEY,St=vt.f,wt=Y.f,gt=pt.f,mt=m.Symbol,It=m.JSON,Tt=It&&It.stringify,Et=he("_hidden"),bt=he("toPrimitive"),At={}.propertyIsEnumerable,Ct=T("symbol-registry"),Ot=T("symbols"),Dt=T("op-symbols"),Rt=Object.prototype,Nt="function"==typeof mt,kt=m.QObject,Pt=!kt||!kt.prototype||!kt.prototype.findChild,Lt=B&&x(function(){return 7!=pe(wt({},"a",{get:function(){return wt(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=St(Rt,t);r&&delete Rt[t],wt(e,t,n),r&&e!==Rt&&wt(Rt,t,r)}:wt,jt=function(e){var t=Ot[e]=pe(mt.prototype);return t._k=e,t},Mt=Nt&&"symbol"==typeof mt.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof mt},Ut=function(e,t,n){return e===Rt&&Ut(Dt,t,n),U(e),t=H(t,!0),U(n),u(Ot,t)?(n.enumerable?(u(e,Et)&&e[Et][t]&&(e[Et][t]=!1),n=pe(n,{enumerable:$(0,!1)})):(u(e,Et)||wt(e,Et,$(1,{})),e[Et][t]=!0),Lt(e,t,n)):wt(e,t,n)},xt=function(e,t){U(e);for(var n,r=function(e){var t=P(e),n=Ge.f;if(n)for(var r,i=n(e),o=He.f,c=0;i.length>c;)o.call(e,r=i[c++])&&t.push(r);return t}(t=_(t)),i=0,o=r.length;o>i;)Ut(e,n=r[i++],t[n]);return e},Bt=function(e){var t=At.call(this,e=H(e,!0));return!(this===Rt&&u(Ot,e)&&!u(Dt,e))&&(!(t||!u(this,e)||!u(Ot,e)||u(this,Et)&&this[Et][e])||t)},zt=function(e,t){if(e=_(e),t=H(t,!0),e!==Rt||!u(Ot,t)||u(Dt,t)){var n=St(e,t);return!n||!u(Ot,t)||u(e,Et)&&e[Et][t]||(n.enumerable=!0),n}},Ft=function(e){for(var t,n=gt(_(e)),r=[],i=0;n.length>i;)u(Ot,t=n[i++])||t==Et||t==yt||r.push(t);return r},Wt=function(e){for(var t,n=e===Rt,r=gt(n?Dt:_(e)),i=[],o=0;r.length>o;)!u(Ot,t=r[o++])||n&&!u(Rt,t)||i.push(Ot[t]);return i};Nt||(ae((mt=function(){if(this instanceof mt)throw TypeError("Symbol is not a constructor!");var e=A(arguments.length>0?arguments[0]:void 0);return B&&Pt&&Lt(Rt,e,{configurable:!0,set:function t(n){this===Rt&&t.call(Dt,n),u(this,Et)&&u(this[Et],e)&&(this[Et][e]=!1),Lt(this,e,$(1,n))}}),jt(e)}).prototype,"toString",function(){return this._k}),vt.f=zt,Y.f=Ut,lt.f=pt.f=Ft,He.f=Bt,Ge.f=Wt,nt.f=function(e){return jt(he(e))}),ee(ee.G+ee.W+ee.F*!Nt,{Symbol:mt});for(var Gt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Ht=0;Gt.length>Ht;)he(Gt[Ht++]);for(Gt=P(he.store),Ht=0;Gt.length>Ht;)at(Gt[Ht++]);ee(ee.S+ee.F*!Nt,"Symbol",{for:function(e){return u(Ct,e+="")?Ct[e]:Ct[e]=mt(e)},keyFor:function(e){if(Mt(e))return function(e,t){for(var n,r=_(e),i=P(r),o=i.length,c=0;o>c;)if(r[n=i[c++]]===t)return n}(Ct,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){Pt=!0},useSimple:function(){Pt=!1}}),ee(ee.S+ee.F*!Nt,"Object",{create:function(e,t){return void 0===t?pe(e):xt(pe(e),t)},defineProperty:Ut,defineProperties:xt,getOwnPropertyDescriptor:zt,getOwnPropertyNames:Ft,getOwnPropertySymbols:Wt}),It&&ee(ee.S+ee.F*(!Nt||x(function(){var e=mt();return"[null]"!=Tt([e])||"{}"!=Tt({a:e})||"{}"!=Tt(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!Mt(e)){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);return"function"==typeof(t=r[1])&&(n=t),!n&&st(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!Mt(t))return t}),r[1]=t,Tt.apply(It,r)}}}),mt.prototype[bt]||q(mt.prototype,bt,mt.prototype.valueOf),Se(mt,"Symbol"),Se(Math,"Math",!0),Se(m.JSON,"JSON",!0),at("asyncIterator"),at("observable");var Vt=L.Symbol,Yt=i(function(e){e.exports={default:Vt,__esModule:!0}});r(Yt);var $t,qt,Kt=r(i(function(e,t){t.__esModule=!0;var n=o(it),r=o(Yt),i="function"===typeof r.default&&"symbol"===typeof n.default?function(e){return typeof e}:function(e){return e&&"function"===typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":typeof e};function o(e){return e&&e.__esModule?e:{default:e}}t.default="function"===typeof r.default&&"symbol"===i(n.default)?function(e){return"undefined"===typeof e?"undefined":i(e)}:function(e){return e&&"function"===typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":"undefined"===typeof e?"undefined":i(e)}})),Jt=function(e,t,n,r,i,o,c,a){if(void 0===t)throw new Error("invariant requires an error message argument");if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,c,a],l=0;(s=new Error(t.replace(/%s/g,function(){return u[l++]}))).name="Invariant Violation"}throw s.framesToPop=1,s}},Xt="[object Object]",Zt=Function.prototype,Qt=Object.prototype,en=Zt.toString,tn=Qt.hasOwnProperty,nn=en.call(Object),rn=Qt.toString,on=($t=Object.getPrototypeOf,qt=Object,function(e){return $t(qt(e))}),cn=function(e){if(!function(e){return!!e&&"object"==typeof e}(e)||rn.call(e)!=Xt||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(Ur){}return t}(e))return!1;var t=on(e);if(null===t)return!0;var n=tn.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&en.call(n)==nn},an="[object Function]",sn="[object GeneratorFunction]",un=Object.prototype.toString,ln=function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?un.call(e):"";return t==an||t==sn},dn=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)},fn=qe,_n=function(){return{}},pn=function(e){return{dispatch:e}};function hn(t){return function(n,r){var i,o=n||_n,c=cn(r)?(i=r,function(t){return e.bindActionCreators(i,t)}):r||pn;Jt(ln(o),"mapStateToTarget must be a Function. Instead received %s.",o),Jt(cn(c)||ln(c),"mapDispatchToTarget must be a plain Object or a Function. Instead received %s.",c);var a=yn(t.getState(),o,!1);ln(a)&&(o=a,a=yn(t.getState(),o));var s=c(t.dispatch);return function(e){return Jt(ln(e)||dn(e),"The target parameter passed to connect must be a Function or a object."),vn(e,a,s),t.subscribe(function(){var n=yn(t.getState(),o);(function(e,t){if(e===t)return!0;var n=ne(e).filter(function(e){return"$$hashKey"!==e}),r=ne(t).filter(function(e){return"$$hashKey"!==e});if(n.length!==r.length)return!1;for(var i=Object.prototype.hasOwnProperty,o=0;o<n.length;o++)if(!i.call(t,n[o])||e[n[o]]!==t[n[o]])return!1;return!0})(a,n)||vn(e,a=n,s)})}}}function vn(e,t,n){ln(e)?e(t,n):fn(e,t,n)}function yn(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t(e);return n?Jt(cn(r),"`mapStateToScope` must return an object. Instead received %s.",r):Jt(cn(r)||ln(r),"`mapStateToScope` must return an object or a function. Instead received %s.",r),r}var Sn=function(e){return function(t){return function(t){return function(n){return"@@NGREDUX_PASSTHROUGH"===n.type?t(n):e.dispatch(n)}}}},wn="Expected a function",gn="__lodash_placeholder__",mn=1,In=2,Tn=4,En=8,bn=16,An=32,Cn=64,On=128,Dn=512,Rn=1/0,Nn=9007199254740991,kn=1.7976931348623157e308,Pn=NaN,Ln=[["ary",On],["bind",mn],["bindKey",In],["curry",En],["curryRight",bn],["flip",Dn],["partial",An],["partialRight",Cn],["rearg",256]],jn="[object Function]",Mn="[object GeneratorFunction]",Un="[object Symbol]",xn=/^\s+|\s+$/g,Bn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,zn=/\{\n\/\* \[wrapped with (.+)\] \*/,Fn=/,? & /,Wn=/^[-+]0x[0-9a-f]+$/i,Gn=/^0b[01]+$/i,Hn=/^\[object .+?Constructor\]$/,Vn=/^0o[0-7]+$/i,Yn=/^(?:0|[1-9]\d*)$/,$n=parseInt,qn="object"==typeof n&&n&&n.Object===Object&&n,Kn="object"==typeof self&&self&&self.Object===Object&&self,Jn=qn||Kn||Function("return this")();function Xn(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Zn(e,t){return!!(e?e.length:0)&&function(e,t,n){if(t!==t)return function(e,t,n,r){var i=e.length,o=n+(r?1:-1);for(;r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}(e,Qn,n);var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,0)>-1}function Qn(e){return e!==e}function er(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var c=e[n];c!==t&&c!==gn||(e[n]=gn,o[i++]=n)}return o}var tr,nr=Function.prototype,rr=Object.prototype,ir=Jn["__core-js_shared__"],or=(tr=/[^.]+$/.exec(ir&&ir.keys&&ir.keys.IE_PROTO||""))?"Symbol(src)_1."+tr:"",cr=nr.toString,ar=rr.hasOwnProperty,sr=rr.toString,ur=RegExp("^"+cr.call(ar).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),lr=Object.create,dr=Math.max,fr=Math.min,_r=function(){var e=gr(Object,"defineProperty"),t=gr.name;return t&&t.length>2?e:void 0}();function pr(e){return!(!Cr(e)||function(e){return!!or&&or in e}(e))&&(function(e){var t=Cr(e)?sr.call(e):"";return t==jn||t==Mn}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(Ur){}return t}(e)?ur:Hn).test(function(e){if(null!=e){try{return cr.call(e)}catch(Ur){}try{return e+""}catch(Ur){}}return""}(e))}function hr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=function(e){return Cr(e)?lr(e):{}}(e.prototype),r=e.apply(n,t);return Cr(r)?r:n}}function vr(e,t,n,r,i,o,c,a,s,u){var l=t&On,d=t&mn,f=t&In,_=t&(En|bn),p=t&Dn,h=f?void 0:hr(e);return function v(){for(var y=arguments.length,S=Array(y),w=y;w--;)S[w]=arguments[w];if(_)var g=wr(v),m=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&r++;return r}(S,g);if(r&&(S=function(e,t,n,r){for(var i=-1,o=e.length,c=n.length,a=-1,s=t.length,u=dr(o-c,0),l=Array(s+u),d=!r;++a<s;)l[a]=t[a];for(;++i<c;)(d||i<o)&&(l[n[i]]=e[i]);for(;u--;)l[a++]=e[i++];return l}(S,r,i,_)),o&&(S=function(e,t,n,r){for(var i=-1,o=e.length,c=-1,a=n.length,s=-1,u=t.length,l=dr(o-a,0),d=Array(l+u),f=!r;++i<l;)d[i]=e[i];for(var _=i;++s<u;)d[_+s]=t[s];for(;++c<a;)(f||i<o)&&(d[_+n[c]]=e[i++]);return d}(S,o,c,_)),y-=m,_&&y<u){var I=er(S,g);return yr(e,t,vr,v.placeholder,n,S,I,a,s,u-y)}var T=d?n:this,E=f?T[e]:e;return y=S.length,a?S=function(e,t){for(var n=e.length,r=fr(t.length,n),i=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(e);r--;){var o=t[r];e[r]=Tr(o,n)?i[o]:void 0}return e}(S,a):p&&y>1&&S.reverse(),l&&s<y&&(S.length=s),this&&this!==Jn&&this instanceof v&&(E=h||hr(E)),E.apply(T,S)}}function yr(e,t,n,r,i,o,c,a,s,u){var l=t&En;t|=l?An:Cn,(t&=~(l?Cn:An))&Tn||(t&=~(mn|In));var d=n(e,t,i,l?o:void 0,l?c:void 0,l?void 0:o,l?void 0:c,a,s,u);return d.placeholder=r,Er(d,e,t)}function Sr(e,t,n,r,i,o,c,a){var s=t&In;if(!s&&"function"!=typeof e)throw new TypeError(wn);var u=r?r.length:0;if(u||(t&=~(An|Cn),r=i=void 0),c=void 0===c?c:dr(Dr(c),0),a=void 0===a?a:Dr(a),u-=i?i.length:0,t&Cn){var l=r,d=i;r=i=void 0}var f=[e,t,n,r,i,l,d,o,c,a];if(e=f[0],t=f[1],n=f[2],r=f[3],i=f[4],!(a=f[9]=null==f[9]?s?0:e.length:dr(f[9]-u,0))&&t&(En|bn)&&(t&=~(En|bn)),t&&t!=mn)_=t==En||t==bn?function(e,t,n){var r=hr(e);return function i(){for(var o=arguments.length,c=Array(o),a=o,s=wr(i);a--;)c[a]=arguments[a];var u=o<3&&c[0]!==s&&c[o-1]!==s?[]:er(c,s);return(o-=u.length)<n?yr(e,t,vr,i.placeholder,void 0,c,u,void 0,void 0,n-o):Xn(this&&this!==Jn&&this instanceof i?r:e,this,c)}}(e,t,a):t!=An&&t!=(mn|An)||i.length?vr.apply(void 0,f):function(e,t,n,r){var i=t&mn,o=hr(e);return function t(){for(var c=-1,a=arguments.length,s=-1,u=r.length,l=Array(u+a),d=this&&this!==Jn&&this instanceof t?o:e;++s<u;)l[s]=r[s];for(;a--;)l[s++]=arguments[++c];return Xn(d,i?n:this,l)}}(e,t,n,r);else var _=function(e,t,n){var r=t&mn,i=hr(e);return function t(){return(this&&this!==Jn&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return Er(_,e,t)}function wr(e){return e.placeholder}function gr(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return pr(n)?n:void 0}function mr(e){var t=e.match(zn);return t?t[1].split(Fn):[]}function Ir(e,t){var n=t.length,r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Bn,"{\n/* [wrapped with "+t+"] */\n")}function Tr(e,t){return!!(t=null==t?Nn:t)&&("number"==typeof e||Yn.test(e))&&e>-1&&e%1==0&&e<t}var Er=_r?function(e,t,n){var r,i=t+"";return _r(e,"toString",{configurable:!0,enumerable:!1,value:(r=Ir(i,br(mr(i),n)),function(){return r})})}:function(e){return e};function br(e,t){return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(Ln,function(n){var r="_."+n[0];t&n[1]&&!Zn(e,r)&&e.push(r)}),e.sort()}function Ar(e,t,n){var r=Sr(e,En,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return r.placeholder=Ar.placeholder,r}function Cr(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Or(e){return e?(e=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&sr.call(e)==Un}(e))return Pn;if(Cr(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Cr(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(xn,"");var n=Gn.test(e);return n||Vn.test(e)?$n(e.slice(2),n?2:8):Wn.test(e)?Pn:+e}(e))===Rn||e===-Rn?(e<0?-1:1)*kn:e===e?e:0:0===e?e:0}function Dr(e){var t=Or(e),n=t%1;return t===t?n?t-n:t:0}Ar.placeholder={};var Rr=Ar,Nr=i(function(e,t){var r=200,i="Expected a function",o="__lodash_hash_undefined__",c=1,a=2,s=1/0,u=9007199254740991,l="[object Arguments]",d="[object Array]",f="[object Boolean]",_="[object Date]",p="[object Error]",h="[object Function]",v="[object GeneratorFunction]",y="[object Map]",S="[object Number]",w="[object Object]",g="[object RegExp]",m="[object Set]",I="[object String]",T="[object Symbol]",E="[object ArrayBuffer]",b="[object DataView]",A=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,C=/^\w*$/,O=/^\./,D=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,R=/\\(\\)?/g,N=/^\[object .+?Constructor\]$/,k=/^(?:0|[1-9]\d*)$/,P={};P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P[l]=P[d]=P[E]=P[f]=P[b]=P[_]=P[p]=P[h]=P[y]=P[S]=P[w]=P[g]=P[m]=P[I]=P["[object WeakMap]"]=!1;var L="object"==typeof n&&n&&n.Object===Object&&n,j="object"==typeof self&&self&&self.Object===Object&&self,M=L||j||Function("return this")(),U=t&&!t.nodeType&&t,x=U&&e&&!e.nodeType&&e,B=x&&x.exports===U&&L.process,z=function(){try{return B&&B.binding("util")}catch(Ur){}}(),F=z&&z.isTypedArray;function W(e,t){for(var n=-1,r=e?e.length:0,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function G(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}function H(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(Ur){}return t}function V(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function Y(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var $=Array.prototype,q=Function.prototype,K=Object.prototype,J=M["__core-js_shared__"],X=function(){var e=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Z=q.toString,Q=K.hasOwnProperty,ee=K.toString,te=RegExp("^"+Z.call(Q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ne=M.Symbol,re=M.Uint8Array,ie=K.propertyIsEnumerable,oe=$.splice,ce=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),ae=We(M,"DataView"),se=We(M,"Map"),ue=We(M,"Promise"),le=We(M,"Set"),de=We(M,"WeakMap"),fe=We(Object,"create"),_e=Je(ae),pe=Je(se),he=Je(ue),ve=Je(le),ye=Je(de),Se=ne?ne.prototype:void 0,we=Se?Se.valueOf:void 0,ge=Se?Se.toString:void 0;function me(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ie(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Te(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ee(e){var t=-1,n=e?e.length:0;for(this.__data__=new Te;++t<n;)this.add(e[t])}function be(e){this.__data__=new Ie(e)}function Ae(e,t){var n=et(e)||Qe(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,i=!!r;for(var o in e)!t&&!Q.call(e,o)||i&&("length"==o||He(o,r))||n.push(o);return n}function Ce(e,t){for(var n=e.length;n--;)if(Ze(e[n][0],t))return n;return-1}me.prototype.clear=function(){this.__data__=fe?fe(null):{}},me.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},me.prototype.get=function(e){var t=this.__data__;if(fe){var n=t[e];return n===o?void 0:n}return Q.call(t,e)?t[e]:void 0},me.prototype.has=function(e){var t=this.__data__;return fe?void 0!==t[e]:Q.call(t,e)},me.prototype.set=function(e,t){return this.__data__[e]=fe&&void 0===t?o:t,this},Ie.prototype.clear=function(){this.__data__=[]},Ie.prototype.delete=function(e){var t=this.__data__,n=Ce(t,e);return!(n<0)&&(n==t.length-1?t.pop():oe.call(t,n,1),!0)},Ie.prototype.get=function(e){var t=this.__data__,n=Ce(t,e);return n<0?void 0:t[n][1]},Ie.prototype.has=function(e){return Ce(this.__data__,e)>-1},Ie.prototype.set=function(e,t){var n=this.__data__,r=Ce(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Te.prototype.clear=function(){this.__data__={hash:new me,map:new(se||Ie),string:new me}},Te.prototype.delete=function(e){return Fe(this,e).delete(e)},Te.prototype.get=function(e){return Fe(this,e).get(e)},Te.prototype.has=function(e){return Fe(this,e).has(e)},Te.prototype.set=function(e,t){return Fe(this,e).set(e,t),this},Ee.prototype.add=Ee.prototype.push=function(e){return this.__data__.set(e,o),this},Ee.prototype.has=function(e){return this.__data__.has(e)},be.prototype.clear=function(){this.__data__=new Ie},be.prototype.delete=function(e){return this.__data__.delete(e)},be.prototype.get=function(e){return this.__data__.get(e)},be.prototype.has=function(e){return this.__data__.has(e)},be.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ie){var i=n.__data__;if(!se||i.length<r-1)return i.push([e,t]),this;n=this.__data__=new Te(i)}return n.set(e,t),this};var Oe,De,Re=(Oe=function(e,t){return e&&Ne(e,t,st)},function(e,t){if(null==e)return e;if(!tt(e))return Oe(e,t);for(var n=e.length,r=De?n:-1,i=Object(e);(De?r--:++r<n)&&!1!==t(i[r],r,i););return e}),Ne=function(e){return function(t,n,r){for(var i=-1,o=Object(t),c=r(t),a=c.length;a--;){var s=c[e?a:++i];if(!1===n(o[s],s,o))break}return t}}();function ke(e,t){for(var n=0,r=(t=Ve(t,e)?[t]:Be(t)).length;null!=e&&n<r;)e=e[Ke(t[n++])];return n&&n==r?e:void 0}function Pe(e,t){return null!=e&&t in Object(e)}function Le(e,t,n,r,i){return e===t||(null==e||null==t||!it(e)&&!ot(t)?e!==e&&t!==t:function(e,t,n,r,i,o){var s=et(e),u=et(t),h=d,v=d;s||(h=(h=Ge(e))==l?w:h);u||(v=(v=Ge(t))==l?w:v);var A=h==w&&!H(e),C=v==w&&!H(t),O=h==v;if(O&&!A)return o||(o=new be),s||at(e)?ze(e,t,n,r,i,o):function(e,t,n,r,i,o,s){switch(n){case b:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case E:return!(e.byteLength!=t.byteLength||!r(new re(e),new re(t)));case f:case _:case S:return Ze(+e,+t);case p:return e.name==t.name&&e.message==t.message;case g:case I:return e==t+"";case y:var u=V;case m:var l=o&a;if(u||(u=Y),e.size!=t.size&&!l)return!1;var d=s.get(e);if(d)return d==t;o|=c,s.set(e,t);var h=ze(u(e),u(t),r,i,o,s);return s.delete(e),h;case T:if(we)return we.call(e)==we.call(t)}return!1}(e,t,h,n,r,i,o);if(!(i&a)){var D=A&&Q.call(e,"__wrapped__"),R=C&&Q.call(t,"__wrapped__");if(D||R){var N=D?e.value():e,k=R?t.value():t;return o||(o=new be),n(N,k,r,i,o)}}if(!O)return!1;return o||(o=new be),function(e,t,n,r,i,o){var c=i&a,s=st(e),u=s.length,l=st(t).length;if(u!=l&&!c)return!1;for(var d=u;d--;){var f=s[d];if(!(c?f in t:Q.call(t,f)))return!1}var _=o.get(e);if(_&&o.get(t))return _==t;var p=!0;o.set(e,t),o.set(t,e);for(var h=c;++d<u;){f=s[d];var v=e[f],y=t[f];if(r)var S=c?r(y,v,f,t,e,o):r(v,y,f,e,t,o);if(!(void 0===S?v===y||n(v,y,r,i,o):S)){p=!1;break}h||(h="constructor"==f)}if(p&&!h){var w=e.constructor,g=t.constructor;w!=g&&"constructor"in e&&"constructor"in t&&!("function"==typeof w&&w instanceof w&&"function"==typeof g&&g instanceof g)&&(p=!1)}return o.delete(e),o.delete(t),p}(e,t,n,r,i,o)}(e,t,Le,n,r,i))}function je(e){return!(!it(e)||function(e){return!!X&&X in e}(e))&&(nt(e)||H(e)?te:N).test(Je(e))}function Me(e){return"function"==typeof e?e:null==e?ut:"object"==typeof e?et(e)?function(e,t){if(Ve(e)&&Ye(t))return $e(Ke(e),t);return function(n){var r=function(e,t,n){var r=null==e?void 0:ke(e,t);return void 0===r?n:r}(n,e);return void 0===r&&r===t?function(e,t){return null!=e&&function(e,t,n){t=Ve(t,e)?[t]:Be(t);var r,i=-1,o=t.length;for(;++i<o;){var c=Ke(t[i]);if(!(r=null!=e&&n(e,c)))break;e=e[c]}if(r)return r;return!!(o=e?e.length:0)&&rt(o)&&He(c,o)&&(et(e)||Qe(e))}(e,t,Pe)}(n,e):Le(t,r,void 0,c|a)}}(e[0],e[1]):function(e){var t=function(e){var t=st(e),n=t.length;for(;n--;){var r=t[n],i=e[r];t[n]=[r,i,Ye(i)]}return t}(e);if(1==t.length&&t[0][2])return $e(t[0][0],t[0][1]);return function(n){return n===e||function(e,t,n,r){var i=n.length,o=i,s=!r;if(null==e)return!o;for(e=Object(e);i--;){var u=n[i];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<o;){var l=(u=n[i])[0],d=e[l],f=u[1];if(s&&u[2]){if(void 0===d&&!(l in e))return!1}else{var _=new be;if(r)var p=r(d,f,l,e,t,_);if(!(void 0===p?Le(f,d,r,c|a,_):p))return!1}}return!0}(n,e,t)}}(e):Ve(t=e)?(n=Ke(t),function(e){return null==e?void 0:e[n]}):function(e){return function(t){return ke(t,e)}}(t);var t,n}function Ue(e){if(!function(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||K;return e===n}(e))return ce(e);var t=[];for(var n in Object(e))Q.call(e,n)&&"constructor"!=n&&t.push(n);return t}function xe(e,t){var n=-1,r=tt(e)?Array(e.length):[];return Re(e,function(e,i,o){r[++n]=t(e,i,o)}),r}function Be(e){return et(e)?e:qe(e)}function ze(e,t,n,r,i,o){var s=i&a,u=e.length,l=t.length;if(u!=l&&!(s&&l>u))return!1;var d=o.get(e);if(d&&o.get(t))return d==t;var f=-1,_=!0,p=i&c?new Ee:void 0;for(o.set(e,t),o.set(t,e);++f<u;){var h=e[f],v=t[f];if(r)var y=s?r(v,h,f,t,e,o):r(h,v,f,e,t,o);if(void 0!==y){if(y)continue;_=!1;break}if(p){if(!G(t,function(e,t){if(!p.has(t)&&(h===e||n(h,e,r,i,o)))return p.add(t)})){_=!1;break}}else if(h!==v&&!n(h,v,r,i,o)){_=!1;break}}return o.delete(e),o.delete(t),_}function Fe(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function We(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return je(n)?n:void 0}var Ge=function(e){return ee.call(e)};function He(e,t){return!!(t=null==t?u:t)&&("number"==typeof e||k.test(e))&&e>-1&&e%1==0&&e<t}function Ve(e,t){if(et(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ct(e))||(C.test(e)||!A.test(e)||null!=t&&e in Object(t))}function Ye(e){return e===e&&!it(e)}function $e(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}(ae&&Ge(new ae(new ArrayBuffer(1)))!=b||se&&Ge(new se)!=y||ue&&"[object Promise]"!=Ge(ue.resolve())||le&&Ge(new le)!=m||de&&"[object WeakMap]"!=Ge(new de))&&(Ge=function(e){var t=ee.call(e),n=t==w?e.constructor:void 0,r=n?Je(n):void 0;if(r)switch(r){case _e:return b;case pe:return y;case he:return"[object Promise]";case ve:return m;case ye:return"[object WeakMap]"}return t});var qe=Xe(function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(ct(e))return ge?ge.call(e):"";var t=e+"";return"0"==t&&1/e==-s?"-0":t}(t);var n=[];return O.test(e)&&n.push(""),e.replace(D,function(e,t,r,i){n.push(r?i.replace(R,"$1"):t||e)}),n});function Ke(e){if("string"==typeof e||ct(e))return e;var t=e+"";return"0"==t&&1/e==-s?"-0":t}function Je(e){if(null!=e){try{return Z.call(e)}catch(Ur){}try{return e+""}catch(Ur){}}return""}function Xe(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(i);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var c=e.apply(this,r);return n.cache=o.set(i,c),c};return n.cache=new(Xe.Cache||Te),n}function Ze(e,t){return e===t||e!==e&&t!==t}function Qe(e){return function(e){return ot(e)&&tt(e)}(e)&&Q.call(e,"callee")&&(!ie.call(e,"callee")||ee.call(e)==l)}Xe.Cache=Te;var et=Array.isArray;function tt(e){return null!=e&&rt(e.length)&&!nt(e)}function nt(e){var t=it(e)?ee.call(e):"";return t==h||t==v}function rt(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=u}function it(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ot(e){return!!e&&"object"==typeof e}function ct(e){return"symbol"==typeof e||ot(e)&&ee.call(e)==T}var at=F?function(e){return function(t){return e(t)}}(F):function(e){return ot(e)&&rt(e.length)&&!!P[ee.call(e)]};function st(e){return tt(e)?Ae(e):Ue(e)}function ut(e){return e}e.exports=function(e,t){return(et(e)?W:xe)(e,Me(t))}}),kr=Array.isArray,Pr=Rr(function(e,t){return("undefined"===typeof t?"undefined":Kt(t))===e}),Lr=Pr("object"),jr=Pr("string"),Mr=qe;return angular.module("ngRedux",[]).provider("$ngRedux",function(){var t=void 0,n=void 0,r=void 0,i=void 0,o=void 0,c=void 0;this.provideStore=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments[2];c=e,t=function(e,t){return t.payload},r=o,n=[].concat(We(i),[Sn(e)])},this.createStoreWith=function(e,c,a,s){Jt(ln(e)||Lr(e),"The reducer parameter passed to createStoreWith must be a Function or an Object. Instead received %s.","undefined"===typeof e?"undefined":Kt(e)),Jt(!a||kr(a),"The storeEnhancers parameter passed to createStoreWith must be an Array. Instead received %s.","undefined"===typeof a?"undefined":Kt(a)),t=e,o=Lr(e),r=a||[],n=c||[],i=s||{}},this.$get=["$injector",function(a){var s,u=Nr(n,function(e){return jr(e)?a.get(e):e}),l=Nr(r,function(e){return jr(e)?a.get(e):e});if(o){var d=ne(t).reduce(function(e,n){return Mr({},e,ce({},n,function(e){return jr(t[e])?a.get(t[e]):t[e]}(n)))},{});t=e.combineReducers(d)}u.push((s=a.get("$rootScope"),function(e){return function(e){return function(t){var n=e(t);return s.$evalAsync(n),n}}}));var f,_,p=e.applyMiddleware.apply(void 0,We(u)),h=e.createStore(t,i,e.compose.apply(void 0,We(l).concat([p]))),v=Mr({},h,{connect:hn(h)});return c&&(_=v,(f=c).subscribe(function(){var e=f.getState();_.dispatch({type:"@@NGREDUX_PASSTHROUGH",payload:e})}),f.dispatch({type:"@@NGREDUX_PASSTHROUGH_INIT"})),v}],this.$get.$inject=["$injector"]}).name},e.exports=r(n(199))}).call(this,n(22))},946:function(e,t,n){var r={"./asset_detail_service.js":947,"./buy_card_pnp_cta_directive.js":948,"./download_error_directive.js":949,"./download_error_service.js":950,"./inline_purchase_confirmation.js":951,"./istock.js":385,"./istock_download_controller.js":952,"./istock_info_tooltip_directive.js":953,"./istock_licenses_controller.js":954,"./keyword_links_directive.js":955,"./plans_and_pricing_url_service.js":956,"./pricing_clarity_url_service.js":957,"./related_search_terms_directive.js":958,"./state/actions.js":959,"./state/actions/display_error_action.js":960,"./state/actions/fetch_agreements_action.js":961,"./state/actions/fetch_licenses_action.js":962,"./state/actions/fetch_subscription_action.js":963,"./state/actions/fetch_user_agreement_overview_action.js":964,"./state/actions/fetch_user_balance_action.js":965,"./state/actions/go_to_first_step_action.js":966,"./state/actions/go_to_initiate_download_and_select_licenses_step_action.js":967,"./state/actions/go_to_next_step_action.js":968,"./state/actions/initiate_download_action.js":969,"./state/actions/perform_download_action.js":970,"./state/actions/pick_optional_licenses_action.js":971,"./state/actions/set_redirect_url_action.js":972,"./state/actions/set_selected_acccount_action.js":973,"./state/actions/set_spectrum_downloaded_asset_id.js":974,"./state/calculations/has_blocked_subscription.js":142,"./state/initial_state.js":975,"./state/reducers/cancel_and_back_tracking_reducer.js":976,"./state/reducers/check_license.js":977,"./state/reducers/confirm_download_by_credits_step/and_select_licenses.js":978,"./state/reducers/confirm_download_by_credits_step/blocked_subscription_exists.js":979,"./state/reducers/confirm_download_by_credits_step/by_team_credits.js":980,"./state/reducers/confirm_download_by_credits_step/no_subscription_exists.js":981,"./state/reducers/confirm_download_by_credits_step/signature_image_since_subscription_is_for_essentials.js":982,"./state/reducers/confirm_download_by_credits_step/subscription_has_insufficient_downloads_remaining.js":983,"./state/reducers/confirm_download_by_credits_step/with_notice_that_file_unsupported_by_subscription.js":984,"./state/reducers/confirm_download_by_subscription_step/since_insufficient_credits_remaining.js":985,"./state/reducers/confirm_download_by_subscription_step/with_sufficient_downloads_remaining.js":986,"./state/reducers/cta_in_progress.js":987,"./state/reducers/fetch/fetch_user_agreements_overview_responded.js":988,"./state/reducers/helpers/has_selected_optional_licenses.js":989,"./state/reducers/helpers/helpers.js":990,"./state/reducers/helpers/optional_licenses.js":991,"./state/reducers/helpers/set_subscription_info.js":992,"./state/reducers/mapped_action_reducer.js":993,"./state/reducers/misc_steps/cancel_and_back_to_begining_reducer.js":994,"./state/reducers/misc_steps/choose_account_step.js":995,"./state/reducers/misc_steps/complete_download_step.js":996,"./state/reducers/misc_steps/confirm_redownload_for_free_step.js":997,"./state/reducers/misc_steps/free_admin_download_step.js":998,"./state/reducers/misc_steps/go_to_initiate_download_and_select_licenses_step.js":999,"./state/reducers/misc_steps/go_to_next_step.js":1e3,"./state/reducers/misc_steps/go_to_purchase_and_select_licenses_step.js":1001,"./state/reducers/misc_steps/initialize_data_step.js":1002,"./state/reducers/misc_steps/pick_payment_option_step.js":1003,"./state/reducers/misc_steps/pick_pricing_clarity_payment_option_step.js":1004,"./state/reducers/misc_steps/select_account_type_step.js":1005,"./state/reducers/misc_steps/set_initial_step.js":1006,"./state/reducers/misc_steps/team_account_out_of_credits_step.js":1007,"./state/reducers/misc_steps/team_member_must_ask_team_admin_to_grant_more_credits.js":1008,"./state/reducers/must_buy_credits_step/file_unsupported_by_subscription.js":1009,"./state/reducers/must_buy_credits_step/insufficient_remaining_and_subscription_is_for_essentials.js":1010,"./state/reducers/must_buy_credits_step/when_insufficient_remaining_and_blocked_subscription.js":1011,"./state/reducers/must_buy_credits_step/when_insufficient_remaining_and_no_subscription.js":1012,"./state/reducers/must_buy_credits_step/when_insufficient_remaining_and_subscription_has_insufficient_downloads_remaining.js":1013,"./state/reducers/must_buy_credits_step/when_insufficient_remaining_to_buy_extended_licenses.js":1014,"./state/reducers/next_step.js":1015,"./state/reducers/reset_selected_account.js":1016,"./state/reducers/select_asset_size.js":1017,"./state/reducers/set_agreement_size_reducer.js":1018,"./state/reducers/set_agreements.js":1019,"./state/reducers/set_available_credits.js":1020,"./state/reducers/set_calculated_has_subscription.js":1021,"./state/reducers/set_calculated_total_cost.js":1022,"./state/reducers/set_display_error.js":1023,"./state/reducers/set_download_data.js":1024,"./state/reducers/set_largest_size_available.js":1025,"./state/reducers/set_licenses.js":1026,"./state/reducers/set_redirect_before_initiating_download.js":1027,"./state/reducers/set_redirect_url.js":1028,"./state/reducers/set_selected_account.js":1029,"./state/reducers/set_selected_account_has_enough_credits_reducer.js":1030,"./state/reducers/set_selected_agreement.js":1031,"./state/reducers/set_selected_agreement_type.js":1032,"./state/reducers/set_toaster.js":1033,"./state/reducers/subscription_reducer.js":205,"./state/reducers/toggle_pricing_clarity_option.js":1034,"./state/reducers/uncheck_all_optional_licenses.js":1035,"./state/root_reducer.js":1036,"./state/subscription_status.js":17,"./state/support/deep_record.js":1041,"./state/tracking/adp_viewed_tracking_reducer.js":1042,"./state/tracking/choose_account_tracking.js":1043,"./state/tracking/confirm_download_tracking.js":1044,"./state/tracking/free_admin_download_tracking.js":1045,"./state/tracking/go_to_initiate_download_and_select_licenses_tracking.js":1046,"./state/tracking/go_to_purchase_and_select_licenses_tracking.js":1047,"./state/tracking/perform_download_tracking.js":1048,"./state/tracking/pick_payment_option_tracking.js":1049,"./state/tracking/pick_pricing_clarity_payment_option_tracking.js":1050,"./state/tracking/track_close_download_error_message.js":202,"./state/tracking/track_show_blocked_subscription_message.js":204,"./state/tracking/track_warning_cta_clicked.js":201,"./state/types/account_types.js":1051,"./state/types/action_types.js":141,"./state/types/agreement_types.js":1052,"./state/types/asset_collection_names.js":1053,"./state/types/state_steps.js":86,"./ui/subscription_blocked_reason.js":143,"./ui/warning_cta/contact_your_administrator.js":29,"./ui/warning_cta/view_account_details.js":203,"./user_details_service.js":1054};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=946},947:function(e,n,r){"use strict";window.IStockDownload.factory("assetDetailService",function(){var e={Small:"small_file_size",Medium:"medium_file_size",Large:"large_file_size",Xlarge:"xlarge_file_size",Xxlarge:"xxlarge_file_size",eps:"EPS",epsUnavailable:"EPS"},n=null,r=null,i=!1,o=function(e){if(r=e.findIndex(function(e){return"eps"===e.name}),i=0<=r){var t=e[r];return t.teeShirtSize=t.name,t.isEps=!0}},c=function(e,n,r){return"film"===n?e:("illustration"!==r||i||e.push({name:"epsUnavailable",teeShirtSize:"epsUnavailable",description:t("eps_not_available"),epsUnavailable:!0}),e)};return{formatAsset:function(e){return"film"!==e.type&&o(e.imageSizes),{assetId:e.id,assetFamily:e.family,assetType:e.type,allowedUseCodeKey:e.allowedUseCodeKey,istockCollection:e.istockCollection,mediaType:e.mediaType,freeFile:e.isFreeFile,agreements:e.agreements,includedWithSubscription:0<=(null!=e.agreements?e.agreements.indexOf("RF"):void 0),licenseType:e.license,standardLicense:e.standardLicense,sizes:c(e.imageSizes,e.type,e.mediaType),hasEpsFileSize:i,epsFileSizeIndex:r}},getSizeMap:function(){return e},getPreferredSize:function(){return null!=window.sessionStorage?window.sessionStorage.istock_user_preferred_download_size:void 0},getEpsPreferredSize:function(){return null!=window.sessionStorage?window.sessionStorage.istock_user_preferred_eps_download_size:void 0},setPreferredSize:function(e){if(n!==e)return n=e,null!=window.sessionStorage?window.sessionStorage[i?"istock_user_preferred_eps_download_size":"istock_user_preferred_download_size"]=e:void 0}}})},948:function(e,t,n){"use strict";angular.module("AdpApp").directive("buyCardPnpCta",["$window",function(e){return{restrict:"AE",link:function(t){t.pnpCTAClickedTracking=function(t){e.combinedGtmTracking&&e.combinedGtmTracking.gtmPushTracking("adpInteraction",{adp_interaction:"ADP_PnP_Button_Click",adp_selection:"ADP_PnP_Button_Option",ui_element_location:"adp_buy_card_view_plans_and_pricing_button",istock_collection:t})}}}}])},949:function(e,t,n){"use strict";window.IStockDownload.directive("downloadError",["downloadErrorService",function(e){return{link:function(t){return t.downloadErrorService=e,t.showError=!1},restrict:"A",replace:!0,template:'<div ng-if="downloadErrorService.showError()" class="error-bar">{{downloadErrorService.getErrorMessage()}}</div>'}}])},950:function(e,t,n){"use strict";window.IStockDownload.factory("downloadErrorService",["t",function(e){var t=!1,n="download_failed";return{showError:function(){return t},displayError:function(e){if(t=!0,null!=e)return n=e},getErrorMessage:function(){return e(n)}}}])},951:function(e,t,n){"use strict";$("#close-inline-purchase").click(function(){return r()}),$("#close-inline-purchase").on("tap",function(){return r()}),$("main .inline-purchase .grey-out").click(function(){return r()}),$("main .inline-purchase .grey-out").on("tap",function(){return r()});var r=function(){var e=$("main .inline-purchase");return e.fadeOut("slow",function(){return e.remove()})};$(document).on("omnitureReady",function(){if($.cookie("inline_purchase")){var e=JSON.parse($.cookie("inline_purchase"));return $(document).trigger("track.inlinePurchase",e)}})},952:function(e,t,n){"use strict";n.r(t);var r=n(201);window.IStockDownload.controller("IstockDownloadController",["$scope","$rootScope","$window","$q","$sce","$ngRedux","assetDetailService","downloadErrorService","giLocalStorage","pricingClarityUrlService","plansAndPricingUrlService","userDetailsService","actions","t","accountTypes","agreementTypes",function(e,t,n,i,o,c,a,s,u,l,d,f,_,p,h,v){var y=function(r){var i;return(r=r.adp).displayError&&s.displayError(r.displayError),r.redirectToUrl&&(n.location.href=r.redirectToUrl),r.downloadData&&(t.downloadDestinations=r.downloadData.download_destinations),r.calc.assetIsVideo?e.videoSizes||S(r.asset.sizes):(null!=r.calc.selectedAssetSize?r.calc.selectedAssetSize.teeShirtSize:void 0)&&a.setPreferredSize(r.calc.selectedAssetSize.teeShirtSize),r.calc.step.additionalInfoHtml&&(i=o.trustAsHtml(r.calc.step.additionalInfoHtml)),{user:r.user,asset:r.asset,size:r.calc.selectedAssetSize,agreements:r.agreements,licenses:r.licenses,calc:r.calc,step:r.calc.step,additionalInfoHtml:i,canPeekAtCost:r.calc.selectedAgreementType&&r.calc.hasSelectedOptionalLicenses,isChoiceToPayByCreditPack:r.calc.selectedAgreementType===v.CREDIT_PACK,subscription:r.subscription,warningCta:r.calc.step.warningCta}};e.init=function(t,n,r,i){return e.$on("$destroy",c.connect(y,_)(e)),e.accountTypes=h,e.agreementTypes=v,e.mubRedirectUrl=r,e.initializeDataStep(a.formatAsset(JSON.parse(t)),f.formatUser(n),tracking_data.geolocation_country,a.getPreferredSize(),a.getEpsPreferredSize(),i),e.goToInitialLoad()};var S=function(t){return e.videoSizes=t.filter(function(e){return null!=e.description}).toArray(),e.selectedVideoSize=e.videoSizes[e.videoSizes.length-1],e.selectAssetSize(e.selectedVideoSize)};e.mapSizeToLabelTag=function(e){var t=a.getSizeMap()[e.teeShirtSize];return e.isEps||e.epsUnavailable?t:p(t)},e.hoverSize=function(t){return e.size=t},e.unhoverSize=function(){return e.size=e.calc.selectedAssetSize},e.getCtaAction=function(){return w(!0),e.step.triggerTracking?e.step.triggerTracking():console.error("Missing trigger tracking for ".concat(e.step.name)),i.when(e.$eval("(".concat(e.step.ctaAction,"())"))).finally(function(){return w(!1)})};var w=function(t){e.setCtaInProgress(t);var n=angular.element("#download-button"),r=t?n.outerWidth():n.width("");return n.width(r)};e._redirectTo=function(e){return n.location.href=e},e._inPricingClarityButNotPickingLicenses=function(){return e.calc.isInPricingClarity&&e.step.showPricingClarity&&!e.step.viewLicenseSelection},e.redirectToPricing=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.chooseSubscription&&$.storageQueueManager.cookieStore.set("purchase-path-entry-point","adp-subscription");var n=d.getPricingRoute(e.calc.assetIsVideo);return e._inPricingClarityButNotPickingLicenses()?n=l.getPricingUrl(n):g(t)&&(n=d.getDefaultPnpRoute()),e._redirectTo(n)};var g=function(t){return!e.calc.assetIsVideo&&(t.inGeoLocPricingTest&&"true"===t.inGeoLocPricingTest.toLowerCase())};return e.redirectToCheckout=function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(["essentialsSubscription","signatureSubscription"].includes(n.cartItem)){var r={essentialsSubscription:"SUBISTOCK1M10",signatureSubscription:"SUBISTOCKPREM1M10"}[n.cartItem];t="/purchase/subscriptions/".concat(r),e._inPricingClarityButNotPickingLicenses()&&(t=l.getCheckoutUrl(t,!0,e.asset.assetId))}else{var i=e.creditPackForFastCheckout();$.storageQueueManager.cookieStore.set("purchase-path-entry-point","adp-creditPack"),t="/purchase/credits/".concat(i),e._inPricingClarityButNotPickingLicenses()&&(t=l.getCheckoutUrl(t,!0,e.asset.assetId))}return e._redirectTo(t)},e.creditPackForFastCheckout=function(){return"checkoutSecondRadio"==e.step.pricingOption?e.user.istock_fast_checkout_larger_offer_credit_pack_sku:e.user.istock_pricing_clarity_prices.minimum_credit_pack_required_for_asset_purchase.product_sku},e.redirectToFreeTrialCheckout=function(){return e._redirectTo("/purchase/add-trial-subscription")},e.redirectToFastCheckoutWithSubscription=function(){var t="/purchase/subscriptions/".concat(e.user.fast_checkout_subs_pack_sku);return t=l.getCheckoutUrl(t,!0,e.asset.assetId),e._redirectTo(t)},e.handleAccountSelection=function(){return angular.element("#download-button").trigger("track.choose_account",e.calc.selectedAccount),e.goToNextStep()},e.createDownload=function(t){return window.tracking_data.asset_details.asset_size=e.size.name,e.calc.selectedAgreementSize?e.performDownload(n.korrelationId,e.mubRedirectUrl,t):s.displayError()},e.warningCtaClicked=function(){Object(r.default)(e.subscription,e.step)},e.goToEditor=function(t,r){angular.element(t.currentTarget).trigger("track.edit_this_photo");var i="/editor/".concat(e.asset.assetId);return r&&(i+="?linkSrc=".concat(encodeURIComponent(r))),n.location.href=n.siteMap.cleanRelativePath(i)}}])},953:function(e,t,n){"use strict";angular.module("AdpApp").directive("istockInfoTooltip",["$timeout",function(e){return{restrict:"AE",link:function(e){e.trackHover=function(){window.combinedGtmTracking&&window.combinedGtmTracking.gtmPushTracking("notificationTooltipInteraction",{tooltip_interaction:"Viewed",tooltip_selection:"adp_tooltip_collection_definition_"+t(),ui_element_location:"adp_buy_card_tooltip_collection_definition"})};var t=function(){return"Main"==e.asset.istockCollection?"essential":"signature"}}}}])},954:function(e,t,n){"use strict";window.IStockDownload.controller("IstockLicensesController",["$scope","$ngRedux","actions",function(e,t,n){var r=function(e){return{asset:e.adp.asset,licenses:e.adp.licenses}};return e.init=function(){return e.$on("$destroy",t.connect(r,n)(e))}}])},955:function(e,t,n){"use strict";angular.module("AdpApp").directive("keywordLinks",function(){return{restrict:"AE",link:function(e,t,n){t.on("click",function(e){var t=e.target.innerText,n=t.substring(0,t.lastIndexOf(" "));window.combinedGtmTracking&&(window.combinedGtmTracking.setSearchTracking({element_location:"keyword_button_adp",search_tools:"ADP_Keyword_Browse_Click"}),window.combinedGtmTracking.gtmPushTracking("adpInteraction",{ui_element_location:"keyword_button_adp",search_type:"keyword-browse",adp_interaction:"ADP_Keyword_Browse_Click",adp_selection:n}))})}}})},956:function(e,n,r){"use strict";window.IStockDownload.factory("plansAndPricingUrlService",function(){var e=function(){return r("urls.plans_and_pricing_video")},n=function(){return r("urls.plans_and_pricing_images")},r=function(e){var n="/"+t(e);return i(window.siteMap.cleanRelativePath(n))},i=function(e){return/(.*)JS translation missing(.*)/.test(e)?window.siteMap.cleanRelativePath("/plans-and-pricing"):e};return{getPricingRoute:function(t){return t?e():n()},getDefaultPnpRoute:function(){return r("urls.plans_and_pricing")}}})},957:function(e,t,n){"use strict";window.IStockDownload.factory("pricingClarityUrlService",["$window",function(e){var t=function(t,n){var r,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;"checkout"===n?r=i?"?":"&":r=t.search(/\?/)<0?"?":"&";return t+=r+(o?"fastcheckoutasset="+o:"in-pricing-clarity=true"),e.siteMap.cleanRelativePath(t)};return{getPricingUrl:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t(e,"pricing",n)},getCheckoutUrl:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return t(e,"checkout",n,r)}}}])},958:function(e,t,n){"use strict";angular.module("AdpApp").directive("relatedSearchTerms",function(){return{restrict:"AE",link:function(e,t,n){t.on("click",function(e){var t=e.target.innerText;window.combinedGtmTracking&&(window.combinedGtmTracking.setSearchTracking({element_location:"adp_people_also_searched_for_keyword_link",search_tools:"ADP_People_Also_Searched_For_Keyword_Click"}),window.combinedGtmTracking.gtmPushTracking("adpInteraction",{ui_element_location:"adp_people_also_searched_for_keyword_link",search_type:"keyword-browse",adp_interaction:"ADP_People_Also_Searched_For_Keyword_Click",adp_selection:t}))})}}})},959:function(e,t,n){"use strict";n.r(t);var r=n(202);window.IStockDownload.factory("actions",["actionTypes","performDownloadAction","pickOptionalLicensesAction","initiateDownloadAction","setSelectedAccountAction","goToFirstStepAction","goToNextStepAction","goToInitiateDownloadAndSelectLicensesStepAction",function(e,t,n,i,o,c,a,s){return{initializeDataStep:function(t,n,r,i,o,c){return{type:e.INITIALIZE,asset:t,user:n,geolocation_country:r,preferredDownloadSize:i,preferredEpsDownloadSize:o,localePhoneNumber:c}},cancelDownload:function(){return{type:e.CANCEL_AND_BACK_TO_BEGINING}},closeDownloadErrorMessage:function(){return function(t,n){Object(r.default)(n().adp),t({type:e.CANCEL_AND_BACK_TO_BEGINING})}},closeLicensePicker:function(){return{type:e.CANCEL_AND_BACK_TO_BEGINING}},selectAssetSize:function(t){return{type:e.SELECT_ASSET_SIZE,assetSize:t}},setCtaInProgress:function(t){return{type:e.SET_CTA_IN_PROGRESS,inProgress:t}},checkLicense:function(t){return{type:e.CHECK_LICENSE,licenseIndex:t}},selectPricingClarityOptionToggle:function(t){return{type:e.SELECT_PRICING_CLARITY_OPTION_TOGGLE,pricingOptionSelected:t}},setSelectedAgreementType:function(t){return{type:e.SELECT_AGREEMENT_TYPE,agreementType:t}},goToInitialLoad:c,goToNextStep:a,setSelectedAccount:o,initiateDownload:i,pickOptionalLicenses:n,performDownload:t,goToInitiateDownloadAndSelectLicensesStep:s}}])},960:function(e,t,n){"use strict";window.IStockDownload.factory("displayErrorAction",["actionTypes",function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:e.SET_DISPLAY_ERROR,message:t}}}])},961:function(e,t,n){"use strict";window.IStockDownload.factory("fetchAgreementsAction",["actionTypes","fetchSubscriptionAction","$http","$q",function(e,t,n,r){var i=function(t){return{type:e.SET_AGREEMENTS,agreements:t}};return function(){return function(e,o){var c=o().adp,a=c.agreements,s=c.asset;return 0!==a.count()?r.resolve(!0):o().adp.user.authenticated?n.get("/downloads/asset-agreements/".concat(s.assetId),{headers:{Accept:"application/json"}}).then(function(n){return e(i((null!=n.data?n.data.agreements:void 0)||[])),e(t()),r.resolve(!0)}).catch(function(n){return e(i([])),e(t()),r.resolve(!1)}):(e(i([])),e(t()),r.resolve(!1))}}}])},962:function(e,t,n){"use strict";window.IStockDownload.factory("fetchLicensesAction",["actionTypes","displayErrorAction","$http",function(e,t,n){var r=function(t){return{type:e.SET_LICENSES,licenses:t}};return function(e,i){return function(o,c){var a=c().adp.licenses.toJS();return 1<a.count()?o(r(a)):n({method:"GET",url:window.siteMap.cleanRelativePath("/asset-detail/".concat(e.assetId,"/licenses")),params:{asset_type:e.assetType,allowed_use_code_key:e.allowedUseCodeKey,istock_collection:e.istockCollection,credit_share:i}}).then(function(e){var t=e.data||[];return o(r(t))}).catch(function(e){return o(t("can_not_get_extended_licenses"))})}}}])},963:function(e,t,n){"use strict";n.r(t);var r=n(141);window.IStockDownload.factory("fetchSubscriptionAction",["$http","$q",function(e,t){return function(){return function(n,i){if(i().adp.user.authenticated)return e.get("/downloads/subscription",{headers:{Accept:"application/json"}}).then(function(e){return n({subscription:e.data,type:r.default.LOAD_SUBSCRIPTION}),t.resolve(!0)}).catch(function(e){console.error(e)})}}}])},964:function(e,t,n){"use strict";window.IStockDownload.factory("fetchUserAgreementOverviewAction",["actionTypes","displayErrorAction","$http",function(e,t,n){return function(){return function(r){return n.get("/downloads/download-agreements-overview",{headers:{Accept:"application/json"}}).then(function(t){return r((n=t.data,{type:e.FETCH_USER_AGREEMENT_OVERVIEW_RESPONDED,agreementOverview:n}));var n}).catch(function(e){return r(t("download_failed"))})}}}])},965:function(e,t,n){"use strict";window.IStockDownload.factory("fetchUserBalanceAction",["actionTypes","displayErrorAction","$http",function(e,t,n){return function(){return function(r){return n.get("/downloads/customer/credit-balances",{headers:{Accept:"application/json"}}).then(function(t){return r((n=t.data.personal_credits,i=t.data.team_credits,{type:e.SET_AVAILABLE_CREDITS,personalCredits:n,teamCredits:i}));var n,i}).catch(function(e){return r(t("download_failed"))})}}}])},966:function(e,t,n){"use strict";window.IStockDownload.factory("goToFirstStepAction",["actionTypes","fetchAgreementsAction",function(e,t){return function(){return function(n,r){return n(t()).then(function(t){return n({type:e.GO_TO_BEGINNING})}).catch(function(e){})}}}])},967:function(e,t,n){"use strict";window.IStockDownload.factory("goToInitiateDownloadAndSelectLicensesStepAction",["actionTypes","pickOptionalLicensesAction",function(e,t){return function(){return function(n,r){return n(t()).then(function(){return n({type:e.GO_TO_INITIATE_DOWNLOAD_AND_SELECT_LICENSES_STEP})})}}}])},968:function(e,t,n){"use strict";window.IStockDownload.factory("goToNextStepAction",["actionTypes",function(e){return function(){return{type:e.GO_TO_NEXT_STEP}}}])},969:function(e,t,n){"use strict";window.IStockDownload.factory("initiateDownloadAction",["actionTypes","accountTypes","fetchAgreementsAction","fetchUserBalanceAction","fetchUserAgreementOverviewAction","setSelectedAccountAction","goToNextStepAction","displayErrorAction","setSpectrumDownloadedAssetIdAction",function(e,t,n,r,i,o,c,a,s){return function(){return function(u,l){if(u({type:e.SET_REDIRECT_BEFORE_INITIATING_DOWNLOAD}),!l().adp.redirectToUrl)return u(s()),l().adp.user.team_member||u(o(t.PERSONAL)),u(n()).then(function(t){return u(r()).then(function(){return l().adp.calc.isFreeAdminDownload?u({type:e.GO_TO_FREE_ADMIN_DOWNLOAD}):u(i()).then(function(){if(!l().adp.redirectToUrl)return u(c())})})}).catch(function(e){return console.error(e),u(a("download_failed"))})}}}])},970:function(e,t,n){"use strict";window.IStockDownload.factory("performDownloadAction",["$http","$window","actionTypes","agreementTypes","setRedirectUrlAction","displayErrorAction","performDownloadTracking",function(e,t,n,r,i,o,c){var a=function(e){return e.selectedAgreementType===r.CREDIT_PACK&&e.hasSelectedOptionalLicenses?e.notAcquiredSelectedLicenses:null};return function(r,s,u){return function(l,d){var f,_,p=d().adp,h=p.asset,v=p.calc;return e.post("/downloads/create-download",{data:{asset:{asset_id:h.assetId,asset_type:h.assetType,asset_collection:h.istockCollection},tokens:[v.selectedAgreementSize.download_token],licenses:(f=a(v),_=function(e){return e.toJS()},"undefined"!==typeof f&&null!==f?_(f):void 0),korrelation_id:r,credit_share:v.isTeamAccountSelected}}).then(function(e){l(function(e){return{type:n.SET_DOWNLOAD_DATA,downloadData:e}}(e.data));var r=d().adp,i=r.downloadData,o=!1;return u||!i.hasDownloadDestinations?t.location.href=i.downloadDestinationUrl:o=i.dropboxEnabled,c(r),l(function(e,t){return{type:n.SET_TOASTER,forceDownload:e,dropboxEnabled:t}}(u,o)),l(function(e){return{type:n.GO_TO_COMPLETE_DOWNLOAD,dropboxEnabled:e}}(o))}).catch(function(e,t){return 403===e.status?l(i(s)):l(o("download_failed"))})}}}])},971:function(e,t,n){"use strict";window.IStockDownload.factory("pickOptionalLicensesAction",["actionTypes","fetchAgreementsAction","fetchUserBalanceAction","fetchLicensesAction","displayErrorAction",function(e,t,n,r,i){return function(){return function(o,c){return o(t()).then(function(){if(function(e){return e.user.team_member&&e.user.has_purchase_history&&!e.calc.selectedAccount}(c().adp))return o(n()).then(function(){return o({type:e.SELECT_ACCOUNT_STEP,nextStepIsToDownloadWithLicenseSelection:!0})});var t=c().adp;return o(r(t.asset,t.calc.isTeamAccountSelected))}).catch(function(e){return console.error(e),o(i("download_failed"))})}}}])},972:function(e,t,n){"use strict";window.IStockDownload.factory("setRedirectUrlAction",["actionTypes",function(e){return function(t){return{type:e.REDIRECT_TO_URL,url:t}}}])},973:function(e,t,n){"use strict";window.IStockDownload.factory("setSelectedAccountAction",["actionTypes",function(e){return function(t){return{type:e.SET_SELECTED_ACCOUNT,selectedAccountName:t}}}])},974:function(e,t,n){"use strict";window.IStockDownload.factory("setSpectrumDownloadedAssetIdAction",["actionTypes",function(e){return function(){return null!=function(e){var t=new QueryBuilder,n=t.normalizeUrl(e)[1];return t.parseQuery(n)[0]}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.referrer).phrase?window.giLocalStorage.setItem("spectrum.downloadAssetId",window.tracking_data.asset_details.asset_id):window.giLocalStorage.getItem("spectrum.downloadAssetId")!==window.tracking_data.asset_details.asset_id&&window.giLocalStorage.removeItem("spectrum.downloadAssetId"),{type:e.SET_SPECTRUM_DOWNLOADED_ASSET_ID}}}])},975:function(e,t,n){"use strict";window.IStockDownload.factory("initialState",["stateSteps",function(e){return DeepRecord.fromJS({user:{country_code:"",authenticated:!1,remembered:!1,anonymous:!0,has_subscription:!1,has_purchase_history:!1,team_member:!1,team_leader:!1,team_name:"",eligible_for_free_trial:!1,fast_checkout_sub:!1,fast_checkout_subs_pack_sku:"",istock_fast_checkout_larger_offer_credit_pack_sku:"",three_radio_button_test:!1,pricing_clarity_flow:!1,credit_amount:0,has_credits:!1,team_credits:0,subsInfo:{isSignature:!1,isEssentials:!1,downloadedCount:0,downloadLimit:0,autoRenews:!1,daysUntilExpiry:0,downloadsRemaining:0}},asset:{assetType:"",agreements:[],assetFamily:"",assetId:"",allowedUseCodeKey:"",licenseType:"",istockCollection:"",mediaType:"",freeFile:!1,hasEpsFileSize:!1,epsFileSizeIndex:-1,standardLicense:{license_type:"",description:"",credit_cost:Number.MAX_VALUE,is_purchase_required:!0,acquired:!1,is_acquired_and_not_repurchasable:!1,is_selected:!1},sizes:[]},agreements:[],subscription:null,licenses:[],calc:{step:{name:e.PICK_PAYMENT_OPTION,viewLicenseSelection:!1},assetIsIllustration:!1,assetIsImage:!1,assetIsVideo:!1,assetCollectionName:"",assetCollectionIsSignature:!1,geolocation_country:"USA",localePhoneNumber:void 0,redownloadForFree:!1,isFreeAdminDownload:!1,teamCreditsAvailable:0,includedWithSubscription:!1,selectedAccount:void 0,selectedAccountCredits:0,selectedAccountHasAnyCredits:!1,selectedAccountHasEnoughCredits:!1,selectedAgreement:void 0,selectedAgreementType:void 0,selectedAgreementSize:void 0,selectedAssetSize:{},largestSizeAvailable:{},userIsTeamUser:!1,isTeamAccountSelected:!1,totalCreditCost:Number.MAX_VALUE,isInPricingClarity:!1,ctaInProgress:!1,showDropboxModal:void 0,showIncentivizationModal:void 0,hasSubscription:!1,isSubscriptionDownloadAllowed:!1,optionalLicenseIndexes:[],hasSelectedOptionalLicenses:!1,notAcquiredSelectedLicenses:[]},downloadData:null,displayError:null,redirectToUrl:null})}])},976:function(e,t,n){"use strict";window.IStockDownload.factory("cancelAndBackTrackingReducer",["stateSteps",function(e){return function(t){var n=void 0;if(t.subscription&&(n=t.subscription.sku),t.calc.step.name===e.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_BLOCKED_SUBSCRIPTION||t.calc.step.name===e.CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_BLOCKED_SUBSCRIPTION_EXISTS)return window.combinedGtmTracking.gtmPushTracking("accountInteraction",{account_interaction:"Subscription_Suspended_Notification_Dismiss",account_selection:window.tracking_data.page_name,sku:n,ui_element_location:"adp_subscription_suspended_message"})}}])},977:function(e,t,n){"use strict";window.IStockDownload.factory("checkLicenseReducer",["stateSteps","hasSelectedOptionalLicenses","setCalculatedTotalCostReducer","goToInitiateDownloadAndSelectLicensesStepReducer","goToPurchaseAndSelectLicensesStepReducer",function(e,t,n,r,i){return function(e,o){var c=e.licenses.getIn([o.licenseIndex,"is_selected"]);return e=(e=e.setIn(["licenses",o.licenseIndex,"is_selected"],!c)).setIn(["calc","hasSelectedOptionalLicenses"],t(e)),(e=n(e)).calc.step.viewLicenseSelection&&(e=e.calc.isInPricingClarity?i(e):r(e)),e}}])},978:function(e,t,n){"use strict";window.IStockDownload.factory("goToConfirmDownloadAndSelectLicensesPaidByCreditsStepReducer",["reducerHelpers","stateSteps","nextStepReducer",function(e,t,n){return function(r){return n(r,e.buildConfirmDownloadPaidByCreditsStep(r),{name:t.CONFIRM_DOWNLOAD_WITH_EXTENDED_LICENSES_PAID_BY_CREDITS,viewLicenseSelection:!0})}}])},979:function(e,t,n){"use strict";n.r(t);var r=n(143);window.IStockDownload.factory("confirmDownloadByCreditsBlockedSubscriptionExistsStepReducer",["reducerHelpers","stateSteps","nextStepReducer","t","$filter",function(e,t,n,i,o){var c=o("date");return function(o){var a=(o.subscription||{}).downloads_remaining||0,s=Object.assign({name:t.CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_BLOCKED_SUBSCRIPTION_EXISTS,title:i("".concat(o.calc.assetCollectionName,"_download")),focusView:!0,paymentSelect:!0,warningBox:!0,showDownloadChoices:!0,subsAvailable:!1,showSubscriptionField:!0,showCreditCost:!1,confirmSection:!1,subTitleTranslation:"".concat(o.calc.assetCollectionName,"_subscription"),subDownloadsTranslationValue:a},Object(r.default)(o,i,c));return n(o,e.buildConfirmDownloadPaidByCreditsStep(o),s)}}])},980:function(e,t,n){"use strict";window.IStockDownload.factory("confirmDownloadByTeamCreditsStepReducer",["reducerHelpers","stateSteps","nextStepReducer","accountTypes","agreementTypes","t",function(e,t,n,r,i,o){var c=void 0;return function(a){return c=c||o("confirm_download_team_account",{team_name:a.user.team_name}),n(a,e.buildConfirmDownloadPaidByCreditsStep(a),{name:t.CONFIRM_DOWNLOAD_BY_TEAM_CREDITS,title:c,confirmSection:!0,showTshirtSizes:!1,showCreditCost:!0,showSubTypeMessage:!1,showFileTypeDropdown:!1,selectedAgreementType:i.CREDIT_PACK,isConfirmationState:!0,selectedAccount:r.TEAM})}}])},981:function(e,t,n){"use strict";window.IStockDownload.factory("confirmDownloadByCreditsWhenNoSubscriptionExistsStepReducer",["reducerHelpers","stateSteps","nextStepReducer",function(e,t,n){return function(r){return n(r,e.buildConfirmDownloadPaidByCreditsStep(r),{name:t.CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_NO_SUBSCRIPTION_EXISTS,title:void 0,focusView:!0,paymentSelect:!0})}}])},982:function(e,t,n){"use strict";window.IStockDownload.factory("confirmDownloadOfSignatureImageByCreditsSinceSubscriptionIsForEssentialsStepReducer",["reducerHelpers","stateSteps","nextStepReducer","t",function(e,t,n,r){var i=void 0,o=r("image_only_with_sig_or_credits");return function(c){return i=i||r("".concat(c.calc.assetCollectionName,"_download")),n(c,e.buildConfirmDownloadPaidByCreditsStep(c),{name:t.CONFIRM_DOWNLOAD_OF_SIGNATURE_IMAGE_BY_CREDITS_SINCE_SUBSCRIPTION_IS_FOR_ESSENTIALS,title:i,reasonForBox:o,warningBox:!0,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,subsAvailable:!1,confirmSection:!1},e.buildStepDetailsToShowDownloadChoices(c))}}])},983:function(e,t,n){"use strict";window.IStockDownload.factory("confirmDownloadByCreditsSinceSubscriptionHasInsufficientDownloadsRemainingStepReducer",["reducerHelpers","stateSteps","nextStepReducer","t",function(e,t,n,r){var i=void 0,o=void 0;return function(c){return i=i||r("".concat(c.calc.assetCollectionName,"_download")),o=o||r("look_no_downloads_".concat(c.calc.assetCollectionName)),n(c,e.buildConfirmDownloadPaidByCreditsStep(c),{name:t.CONFIRM_DOWNLOAD_BY_CREDITS_SINCE_SUBSCRIPTION_HAS_INSUFFICIENT_DOWNLOADS_REMAINING,title:i,reasonForBox:o,warningBox:!0,hideDetails:!0,showDownloadChoices:!0,showCreditCost:!1,confirmSection:!1,subsAvailable:!1},e.buildStepDetailsToShowDownloadChoices(c))}}])},984:function(e,t,n){"use strict";window.IStockDownload.factory("confirmDownloadByCreditsWithNoticeThatFileUnsupportedBySubscriptionStepReducer",["reducerHelpers","stateSteps","nextStepReducer","t",function(e,t,n,r){var i=void 0;return function(o){return i=i||r("".concat(o.calc.assetCollectionName,"_download")),n(o,e.buildConfirmDownloadPaidByCreditsStep(o),{name:t.CONIFRM_DOWNLOAD_BY_CREDITS_WITH_NOTICE_THAT_FILE_UNSUPPORTED_BY_SUBSCRIPTION,title:i,warningBox:!0,reasonForBox:r("video_only_with_credits"),hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,subsAvailable:!1,confirmSection:!1},e.buildStepDetailsToShowDownloadChoices(o))}}])},985:function(e,t,n){"use strict";window.IStockDownload.factory("confirmDownloadBySubscriptionSinceInsufficientCreditsRemainingStepReducer",["reducerHelpers","stateSteps","nextStepReducer","agreementTypes","t",function(e,t,n,r,i){var o=void 0;return function(c){return o=o||i("".concat(c.calc.assetCollectionName,"_download")),n(c,e.buildConfirmDownloadPaidByCreditsStep(c),{name:t.CONFIRM_DOWNLOAD_BY_SUBSCRIPTION_SINCE_INSUFFICIENT_CREDITS_REMAINING,title:o,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,selectedAgreementType:r.ROYALTY_FREE_SUBSCRIPTION,showCreditCost:!1,creditsAvailable:!1},e.buildStepDetailsToShowDownloadChoices(c))}}])},986:function(e,t,n){"use strict";window.IStockDownload.factory("confirmDownloadBySubscriptionWithSufficientDownloadsRemainingStepReducer",["reducerHelpers","stateSteps","nextStepReducer","agreementTypes","confirmDownloadTracking","t",function(e,t,n,r,i,o){var c=void 0,a=o("confirm_download");return function(e){return c=c||o("".concat(e.calc.assetCollectionName,"_download")),n(e,{name:t.CONFIRM_DOWNLOAD_BY_SUBSCRIPTION_WITH_SUFFICIENT_DOWNLOADS_REMAINING,title:c,ctaTitle:a,ctaClass:"primary-cta",ctaAction:"createDownload",confirmSection:!0,isConfirmationState:!0,selectedAgreementType:r.ROYALTY_FREE_SUBSCRIPTION,triggerTracking:i(e.user.subsInfo,e.user.team_leader,e.user.team_member,e.calc,a)},function(e){var t=e.calc.includedWithSubscription,n=e.calc.assetIsVideo;return{showSubTypeMessage:t&&!n,showCreditCost:!t||n}}(e))}}])},987:function(e,t,n){"use strict";window.IStockDownload.factory("setCtaInProgressReducer",function(){return function(e,t){return e=e.setIn(["calc","ctaInProgress"],t.inProgress)}})},988:function(e,t,n){"use strict";n.r(t);var r=n(142);window.IStockDownload.factory("fetchUserAgreementsOverviewRespondedReducer",["actionTypes","assetCollectionNames","setAvailableCreditsReducer","setSubscriptionInfo","plansAndPricingUrlService",function(e,t,n,i,o){return function(e,c){var a=c.agreementOverview||{};if(null!=(null!=a.credit_pack_agreement?a.credit_pack_agreement.credits_available:void 0)&&(e=n(e,{personalCredits:a.credit_pack_agreement.credits_available||0})),(null!=a.royalty_free_subscription_agreements?a.royalty_free_subscription_agreements.length:void 0)>0){var s=a.royalty_free_subscription_agreements[0];if(null!=s.download_count&&null!=s.download_limit&&null!=s.name){var u=function(e){var n=e.name||"",r=e.download_count||0,i=e.download_limit||0;return{isSignature:t.isSignature(n),isEssentials:t.isEssentials(n),downloadedCount:r,downloadLimit:i,downloadsRemaining:i-r,autoRenews:!!e.is_auto_renewal,daysUntilExpiry:e.days_until_product_expires||0}}(s);e=i(e,u)}}return e=function(e){return!(!e.asset.freeFile&&!e.calc.redownloadForFree)||e.user.team_member||e.calc.selectedAccountHasAnyCredits||e.calc.hasSubscription||Object(r.default)(e)||(e=e.set("redirectToUrl",o.getPricingRoute(e.calc.assetIsVideo))),e}(e)}}])},989:function(e,t,n){"use strict";window.IStockDownload.factory("hasSelectedOptionalLicenses",["optionalLicenses",function(e){return function(t){return e(t).reduce(function(e,t){return e||t.is_selected},!1)}}])},990:function(e,t,n){"use strict";window.IStockDownload.factory("reducerHelpers",["agreementTypes","accountTypes","t","confirmDownloadTracking","visitorExperiences",function(e,t,n,r,i){var o=n("free_download_cta"),c=n("download_this_video_clip"),a=n("download_this_image"),s=n("continue_to_checkout"),u=n("confirm_download"),l=n("buy_credits"),d=function(e){return e.calc.hasSelectedOptionalLicenses&&p(e)?'redirectToPricing({inGeoLocPricingTest: "'.concat(p(e),'"})'):"redirectToPricing"},f=function(e){return!e.user.has_purchase_history&&_(e)},_=function(e){return p(e)||h(e)||v(e)||y(e)},p=function(e){return function(e){return["PER","IDN","COL"].includes(e.user.country_code)}(e)||function(e){return["RUS","THA","IND"].includes(e.user.country_code)}(e)||function(e){return["VNM","TUR","CHL","ARG","NGA","MYS","UKR"].includes(e.user.country_code)}(e)},h=function(e){return e.user.fast_checkout_sub},v=function(e){return e.user.three_radio_button_test},y=function(e){return e.user.pricing_clarity_flow&&e.calc.assetIsVideo};return{buildInsufficientCreditsHtmlTranslation:function(e){return n(function(e){var t=e.calc.assetIsVideo?"video_":"image_",n=function(e){var t=e.calc.selectedAccountCredits;return 1===e.calc.totalCreditCost?"insf_one_credit_cost":1===t?"insf_one_credit":"insf_credits"}(e);return"".concat(t).concat(n)}(e),{zero:"<strong>",one:"</strong>",two:"<strong>",three:"</strong>",credit_cost:e.calc.totalCreditCost,greaterthan1_credit_balance:e.calc.selectedAccountCredits})},defaultCtaTitle:function(e){return e.asset.freeFile?o:f(e)?s:e.calc.assetIsVideo?c:a},buildConfirmDownloadPaidByCreditsStep:function(t){return{name:"PLACEHOLDER",title:null,ctaTitle:u,ctaClass:"primary-cta",ctaAction:"createDownload",showCreditCost:!0,confirmSection:!t.calc.step.viewLicenseSelection,selectedAgreementType:e.CREDIT_PACK,isConfirmationState:!0,subsAvailable:!0,triggerTracking:r(t.user.subsInfo,t.user.team_leader,t.user.team_member,t.calc,u)}},buildMustBuyStep:function(e){return{name:"PLACEHOLDER_BUY_CREDITS_NAME",ctaTitle:l,ctaClass:"primary-cta",ctaAction:d(e)}},buildStepDetailsToShowDownloadChoices:function(e){return{showDownloadChoices:!0,showSubscriptionField:e.calc.selectedAccount===t.PERSONAL&&e.calc.hasSubscription,subTitleTranslation:"".concat(e.calc.assetCollectionName,"_subscription"),subDownloadsTranslationValue:e.user.subsInfo.downloadsRemaining}},isUsingTeamAccount:function(e){return e.user.team_member&&e.calc.isTeamAccountSelected},inGeoLocPricingTest:p,inThreeRadioButtonTest:v,inFastCheckoutSubTest:h,inVideoPricingClarityTest:y}}])},991:function(e,t,n){"use strict";window.IStockDownload.factory("optionalLicenses",function(){return function(e){return e.calc.optionalLicenseIndexes.map(function(t){return e.licenses.get(t)})}})},992:function(e,t,n){"use strict";window.IStockDownload.factory("setSubscriptionInfo",["setCalculatedHasSubscriptionReducer",function(e){return function(t,n){return t=t.mergeIn(["user","subsInfo"],DeepRecord.fromJS(n)),t=e(t,{subscription:n,includedWithSubscription:t.calc.includedWithSubscription})}}])},993:function(e,t,n){"use strict";window.IStockDownload.factory("mappedActionReducer",["initialState","actionTypes","initializeDataStepReducer","setInitialStepReducer","cancelAndBackToBeginingReducer","selectAssetSizeReducer","setCtaInProgressReducer","goToNextStepReducer","setAgreementsReducer","setToasterReducer","setSelectedAgreementTypeReducer","setLicensesReducer","freeAdminDownloadStepReducer","checkLicenseReducer","setAvailableCreditsReducer","completeDownloadStepReducer","setSelectedAccountReducer","togglePricingClarityOptionReducer","fetchUserAgreementsOverviewRespondedReducer","setDisplayErrorReducer","setRedirectBeforeInitiatingDownloadReducer","setRedirectUrlReducer","setDownloadDataReducer","chooseAccountStepReducer","goToInitiateDownloadAndSelectLicensesStepReducer",function(e,t,n,r,i,o,c,a,s,u,l,d,f,_,p,h,v,y,S,w,g,m,I,T,E){var b={};return b[t.INITIALIZE]=n,b[t.GO_TO_BEGINNING]=r,b[t.CANCEL_AND_BACK_TO_BEGINING]=i,b[t.SELECT_ASSET_SIZE]=o,b[t.SET_CTA_IN_PROGRESS]=c,b[t.GO_TO_NEXT_STEP]=a,b[t.SET_AGREEMENTS]=s,b[t.SET_TOASTER]=u,b[t.SELECT_AGREEMENT_TYPE]=l,b[t.SET_LICENSES]=d,b[t.GO_TO_FREE_ADMIN_DOWNLOAD]=f,b[t.CHECK_LICENSE]=_,b[t.SET_AVAILABLE_CREDITS]=p,b[t.GO_TO_COMPLETE_DOWNLOAD]=h,b[t.SET_SELECTED_ACCOUNT]=v,b[t.SELECT_PRICING_CLARITY_OPTION_TOGGLE]=y,b[t.FETCH_USER_AGREEMENT_OVERVIEW_RESPONDED]=S,b[t.SET_DISPLAY_ERROR]=w,b[t.SET_REDIRECT_BEFORE_INITIATING_DOWNLOAD]=g,b[t.REDIRECT_TO_URL]=m,b[t.SET_DOWNLOAD_DATA]=I,b[t.SELECT_ACCOUNT_STEP]=T,b[t.GO_TO_INITIATE_DOWNLOAD_AND_SELECT_LICENSES_STEP]=E,Object.freeze(b),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,n=arguments.length>1?arguments[1]:void 0,r=b[n.type];return r?r(t,n):t}}])},994:function(e,t,n){"use strict";window.IStockDownload.factory("cancelAndBackToBeginingReducer",["cancelAndBackTrackingReducer","resetSelectedAccountReducer","uncheckAllOptionalLicencesReducer","pickPricingClarityPaymentOptionStepReducer","pickPaymentOptionStepReducer",function(e,t,n,r,i){return function(o){return e(o),o=t(o),o=n(o),(o=r(o)).calc.isInPricingClarity||(o=i(o)),o}}])},995:function(e,t,n){"use strict";window.IStockDownload.factory("chooseAccountStepReducer",["reducerHelpers","stateSteps","nextStepReducer","setSelectedAccountReducer","accountTypes","chooseAccountTracking","t",function(e,t,n,r,i,o,c){var a=void 0,s=c("choose_account");return function(e){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a=a||c("".concat(e.calc.assetCollectionName,"_collection")),e=n(e,{name:t.CHOOSE_ACCOUNT,title:a,ctaTitle:s,ctaClass:"primary-cta",selectedAccount:i.TEAM,ctaAction:u.nextStepIsToDownloadWithLicenseSelection?"goToInitiateDownloadAndSelectLicensesStep":"handleAccountSelection",showAccountChoices:!0,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,triggerTracking:o(e.calc.selectedAccount)}),e=r(e,{selectedAccountName:e.calc.step.selectedAccount})}}])},996:function(e,t,n){"use strict";window.IStockDownload.factory("completeDownloadStepReducer",["reducerHelpers","stateSteps","nextStepReducer","t",function(e,t,n,r){var i=r("download_complete");return function(e,r){return n(e,{name:t.COMPLETE_DOWNLOAD,title:i,ctaTitle:null,ctaClass:"adp-purchase-complete-btn",ctaAction:"createDownload",confirmSection:!1,completeSection:!0,showTshirtSizes:!1,showSubTypeMessage:!1,showFileTypeDropdown:!1,purchaseExtendedLicenseNotAllowed:!0,dropboxEnabled:r.dropboxEnabled},function(e){var t=e.calc.includedWithSubscription,n=e.calc.assetIsVideo;return{showCreditCost:!t||n}}(e))}}])},997:function(e,t,n){"use strict";window.IStockDownload.factory("confirmRedownloadForFreeStepReducer",["reducerHelpers","stateSteps","nextStepReducer","agreementTypes","t",function(e,t,n,r,i){var o=i("re_download_for_free"),c=i("confirm_download");return function(e){return n(e,{name:t.CONFIRM_REDOWNLOAD_FOR_FREE,title:o,ctaTitle:c,ctaClass:"primary-cta",ctaAction:"createDownload",confirmSection:!1,redownloadSection:!0,showExtendedLicenses:!1,showSubTypeMessage:!1,showFileTypeDropdown:!1,isConfirmationState:!0,triggerTracking:function(){if("undefined"===typeof s||null===s)return!1;var t=window.tracking_data.asset_details,n={downloadedCount:e.user.subsInfo.downloadedCount,remainingCount:e.user.subsInfo.downloadsRemaining,daysUntilExpiry:e.user.subsInfo.daysUntilExpiry,autoRenews:e.user.subsInfo.autoRenew},i=n.autoRenews?"on":"off",o=e.calc.selectedAgreementType===r.CREDIT_PACK,a=e.calc.totalCreditCost,u=e.calc.redownloadForFree,l=e.user.team_leader,d=e.calc.userIsTeamUser,f=e.user.team_member&&e.calc.isTeamAccountSelected,_=o&&0===a;o=o&&!_,s.linkTrackEvents="event4",s.events="event4";var p="events,products,prop7,eVar7,eVar13,eVar39,prop39,prop56,prop59,eVar62";s.eVar13=$.AssetDetail.Tracking.eVar13(t),s.prop39=s.eVar39=null!=window.giLocalStorage?window.giLocalStorage.getItem("target_search_mix"):void 0,s.prop56=t.asset_id,s.prop59="adp|download",_||u?(s.products=";;;;event23=0;;",s.linkTrackEvents+=",event23,event33",s.events+=",event23,event33",u&&(p+=",eVar62",s.eVar62="redownload")):o?(s.products=";;;;event23=".concat(a,";;"),s.linkTrackEvents+=",event23",s.events+=",event23",p+=",eVar62",s.eVar62="Credits"):(s.products=";SUBISTOCK1M",p+=",eVar62,prop24",s.eVar62="Subscription",s.prop24=[n.remainingCount,n.downloadedCount,n.daysUntilExpiry,i].join("|")),d&&(s.eVar62+=l?" | Leader Download":" | Member Download"),d&&!l&&(window.tracking_data.download_with_team_credits=f);var h=$.siteCatalyst.pageTrackingVariables(),v=$.extend({},h);if(p&&p.length>0){var y=!0,S=!1,w=void 0;try{for(var g,m=p.split(",")[Symbol.iterator]();!(y=(g=m.next()).done);y=!0){v[g.value]=!0}}catch(I){S=!0,w=I}finally{try{y||null==m.return||m.return()}finally{if(S)throw w}}}return s.linkTrackVars=$.map(v,function(e,t){return t}).join(","),s.tl(!0,"o",c.replace(/\s/g,""))}})}}])},998:function(e,t,n){"use strict";window.IStockDownload.factory("freeAdminDownloadStepReducer",["stateSteps","nextStepReducer","agreementTypes","freeAdminDownloadTracking","t",function(e,t,n,r,i){var o=i("confirm_download");return function(i){return t(i,{name:e.FREE_ADMIN_DOWNLOAD,title:"Free admin download",ctaTitle:o,ctaClass:"primary-cta",ctaAction:"createDownload",confirmSection:!1,selectedAgreementType:n.EASY_ACCESS,triggerTracking:r(i.calc.userIsTeamUser,i.user.isTeamLeader)})}}])},999:function(e,n,r){"use strict";window.IStockDownload.factory("goToInitiateDownloadAndSelectLicensesStepReducer",["stateSteps","reducerHelpers","nextStepReducer","goToInitiateDownloadAndSelectLicensesTracking",function(e,n,r,i){var o=void 0;return function(c,a){return o=o||t("".concat(c.calc.assetCollectionName,"_collection")),c=r(c,{name:e.INITIATE_DOWNLOAD_AND_SELECT_LICENCES_STEP,title:o,ctaTitle:n.defaultCtaTitle(c),ctaClass:"super-cta",ctaAction:"initiateDownload",showAccountChoices:!1,showCreditCost:!0,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,viewLicenseSelection:!0,triggerTracking:i(c.calc.userIsTeamUser,c.user.team_leader,n.defaultCtaTitle(c))})}}])}});
//# sourceMappingURL=istock_application-8ad53cbf4c8f24315e22.js.map